!function e(t,i,r){function n(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return n(i?i:e)},u,u.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){(function(e){"use strict";var t={},i=function(e){var r,n,o,a,s;i.classes.dispatcher.extend(this);var l=this,d=e||{};if("string"==typeof d||d instanceof HTMLElement?d={renderers:[d]}:"[object Array]"===Object.prototype.toString.call(d)&&(d={renderers:d}),a=d.renderers||d.renderer||d.container,d.renderers&&0!==d.renderers.length||("string"==typeof a||a instanceof HTMLElement||"object"==typeof a&&"container"in a)&&(d.renderers=[a]),d.id){if(t[d.id])throw'sigma: Instance "'+d.id+'" already exists.';Object.defineProperty(this,"id",{value:d.id})}else{for(s=0;t[s];)s++;Object.defineProperty(this,"id",{value:""+s})}for(t[this.id]=this,this.settings=new i.classes.configurable(i.settings,d.settings||{}),Object.defineProperty(this,"graph",{value:new i.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(e){var t,i={};for(t in e.data)i[t]=e.data[t];i.renderer=e.target,this.dispatchEvent(e.type,i)}.bind(this),o=d.renderers||[],r=0,n=o.length;n>r;r++)this.addRenderer(o[r]);for(o=d.middlewares||[],r=0,n=o.length;n>r;r++)this.middlewares.push("string"==typeof o[r]?i.middlewares[o[r]]:o[r]);"object"==typeof d.graph&&d.graph&&(this.graph.read(d.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(i.prototype.addCamera=function(t){var r,n=this;if(!arguments.length){for(t=0;this.cameras[""+t];)t++;t=""+t}if(this.cameras[t])throw'sigma.addCamera: The camera "'+t+'" already exists.';return r=new i.classes.camera(t,this.graph,this.settings),this.cameras[t]=r,r.quadtree=new i.classes.quad,i.classes.edgequad!==e&&(r.edgequadtree=new i.classes.edgequad),r.bind("coordinatesUpdated",function(){n.renderCamera(r,r.isAnimated)}),this.renderersPerCamera[t]=[],r},i.prototype.killCamera=function(e){if(e="string"==typeof e?this.cameras[e]:e,!e)throw"sigma.killCamera: The camera is undefined.";var t,i,r=this.renderersPerCamera[e.id];for(i=r.length,t=i-1;t>=0;t--)this.killRenderer(r[t]);return delete this.renderersPerCamera[e.id],delete this.cameraFrames[e.id],delete this.cameras[e.id],e.kill&&e.kill(),this},i.prototype.addRenderer=function(e){var t,r,n,o,a=e||{};if("string"==typeof a?a={container:document.getElementById(a)}:a instanceof HTMLElement&&(a={container:a}),"string"==typeof a.container&&(a.container=document.getElementById(a.container)),"id"in a)t=a.id;else{for(t=0;this.renderers[""+t];)t++;t=""+t}if(this.renderers[t])throw'sigma.addRenderer: The renderer "'+t+'" already exists.';if(r="function"==typeof a.type?a.type:i.renderers[a.type],r=r||i.renderers.def,n="camera"in a?a.camera instanceof i.classes.camera?a.camera:this.cameras[a.camera]||this.addCamera(a.camera):this.addCamera(),this.cameras[n.id]!==n)throw"sigma.addRenderer: The camera is not properly referenced.";return o=new r(this.graph,n,this.settings,a),this.renderers[t]=o,Object.defineProperty(o,"id",{value:t}),o.bind&&o.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[n.id].push(o),o},i.prototype.killRenderer=function(e){if(e="string"==typeof e?this.renderers[e]:e,!e)throw"sigma.killRenderer: The renderer is undefined.";var t=this.renderersPerCamera[e.camera.id],i=t.indexOf(e);return i>=0&&t.splice(i,1),e.kill&&e.kill(),delete this.renderers[e.id],this},i.prototype.refresh=function(t){var r,n,o,a,s,l,d=0;for(t=t||{},a=this.middlewares||[],r=0,n=a.length;n>r;r++)a[r].call(this,0===r?"":"tmp"+d+":",r===n-1?"ready:":"tmp"+ ++d+":");for(o in this.cameras)s=this.cameras[o],s.settings("autoRescale")&&this.renderersPerCamera[s.id]&&this.renderersPerCamera[s.id].length?i.middlewares.rescale.call(this,a.length?"ready:":"",s.readPrefix,{width:this.renderersPerCamera[s.id][0].width,height:this.renderersPerCamera[s.id][0].height}):i.middlewares.copy.call(this,a.length?"ready:":"",s.readPrefix),t.skipIndexation||(l=i.utils.getBoundaries(this.graph,s.readPrefix),s.quadtree.index(this.graph.nodes(),{prefix:s.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),s.edgequadtree!==e&&s.settings("drawEdges")&&s.settings("enableEdgeHovering")&&s.edgequadtree.index(this.graph,{prefix:s.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}));for(a=Object.keys(this.renderers),r=0,n=a.length;n>r;r++)if(this.renderers[a[r]].process)if(this.settings("skipErrors"))try{this.renderers[a[r]].process()}catch(e){console.log('Warning: The renderer "'+a[r]+'" crashed on ".process()"')}else this.renderers[a[r]].process();return this.render(),this},i.prototype.render=function(){var e,t,i;for(i=Object.keys(this.renderers),e=0,t=i.length;t>e;e++)if(this.settings("skipErrors"))try{this.renderers[i[e]].render()}catch(t){this.settings("verbose")&&console.log('Warning: The renderer "'+i[e]+'" crashed on ".render()"')}else this.renderers[i[e]].render();return this},i.prototype.renderCamera=function(e,t){var i,r,n,o=this;if(t)for(n=this.renderersPerCamera[e.id],i=0,r=n.length;r>i;i++)if(this.settings("skipErrors"))try{n[i].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+n[i].id+'" crashed on ".render()"')}else n[i].render();else if(!this.cameraFrames[e.id]){for(n=this.renderersPerCamera[e.id],i=0,r=n.length;r>i;i++)if(this.settings("skipErrors"))try{n[i].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+n[i].id+'" crashed on ".render()"')}else n[i].render();this.cameraFrames[e.id]=requestAnimationFrame(function(){delete o.cameraFrames[e.id]})}return this},i.prototype.kill=function(){var e;this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares;for(e in this.renderers)this.killRenderer(this.renderers[e]);for(e in this.cameras)this.killCamera(this.cameras[e]);delete this.renderers,delete this.cameras;for(e in this)this.hasOwnProperty(e)&&delete this[e];delete t[this.id]},i.instances=function(e){return arguments.length?t[e]:i.utils.extend({},t)},i.version="1.2.0","undefined"!=typeof this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=i}).call(this),function(e){"use strict";function r(e,t){var i,n,o,a;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(e in arguments[0])r(e,arguments[0][e]);else if(arguments.length>1)for(a=Array.isArray(e)?e:e.split(/ /),i=0,n=a.length;i!==n;i+=1)o=a[i],P[o]||(P[o]=[]),P[o].push({handler:t})}function n(e,t){var i,r,n,o,a,s,l=Array.isArray(e)?e:e.split(/ /);if(arguments.length)if(t)for(i=0,r=l.length;i!==r;i+=1){if(s=l[i],P[s]){for(a=[],n=0,o=P[s].length;n!==o;n+=1)P[s][n].handler!==t&&a.push(P[s][n]);P[s]=a}P[s]&&0===P[s].length&&delete P[s]}else for(i=0,r=l.length;i!==r;i+=1)delete P[l[i]];else P=Object.create(null)}function o(e,t){var i,r,n,o,a,s,l=Array.isArray(e)?e:e.split(/ /);for(t=void 0===t?{}:t,i=0,n=l.length;i!==n;i+=1)if(s=l[i],P[s])for(a={type:s,data:t||{}},r=0,o=P[s].length;r!==o;r+=1)try{P[s][r].handler(a)}catch(e){}}function a(){var e,t,i,r,n=!1,o=b(),a=_.shift();if(i=a.job(),o=b()-o,a.done++,a.time+=o,a.currentTime+=o,a.weightTime=a.currentTime/(a.weight||1),a.averageTime=a.time/a.done,r=a.count?a.count<=a.done:!i,!r){for(e=0,t=_.length;t>e;e++)if(_[e].weightTime>a.weightTime){_.splice(e,0,a),n=!0;break}n||_.push(a)}return r?a:null}function s(e){var t=_.length;T[e.id]=e,e.status="running",t&&(e.weightTime=_[t-1].weightTime,e.currentTime=e.weightTime*(e.weight||1)),e.startTime=b(),o("jobStarted",v(e)),_.push(e)}function l(){var e,t,i;for(e in A)t=A[e],t.after?S[e]=t:s(t),delete A[e];for(E=!!_.length;_.length&&b()-w<N.frameDuration;)if(i=a()){u(i.id);for(e in S)S[e].after===i.id&&(s(S[e]),delete S[e])}E?(w=b(),o("enterFrame"),setTimeout(l,0)):o("stop")}function d(e,t){var i,r,n;if(Array.isArray(e)){for(k=!0,i=0,r=e.length;r>i;i++)d(e[i].id,y(e[i],t));k=!1,E||(w=b(),o("start"),l())}else if("object"==typeof e)if("string"==typeof e.id)d(e.id,e);else{k=!0;for(i in e)"function"==typeof e[i]?d(i,y({job:e[i]},t)):d(i,y(e[i],t));k=!1,E||(w=b(),o("start"),l())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(h(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof t)n={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:t};else{if("object"!=typeof t)throw new Error("[conrad.addJob] Wrong arguments.");n=y({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},t)}A[e]=n,o("jobAdded",v(n)),E||k||(w=b(),o("start"),l())}return this}function u(e){var t,i,r,n,a=!1;if(Array.isArray(e))for(t=0,i=e.length;i>t;t++)u(e[t]);else{if("string"!=typeof e)throw new Error("[conrad.killJob] Wrong arguments.");for(r=[T,S,A],t=0,i=r.length;i>t;t++)e in r[t]&&(n=r[t][e],N.history&&(n.status="done",C.push(n)),o("jobEnded",v(n)),delete r[t][e],"function"==typeof n.end&&n.end(),a=!0);for(r=_,t=0,i=r.length;i>t;t++)if(r[t].id===e){r.splice(t,1);break}if(!a)throw new Error('[conrad.killJob] Job "'+e+'" not found.')}return this}function c(){var e,t=y(A,T,S);if(N.history)for(e in t)t[e].status="done",C.push(t[e]),"function"==typeof t[e].end&&t[e].end();return A={},S={},T={},_=[],E=!1,this}function h(e){var t=A[e]||T[e]||S[e];return t?y(t):null}function f(){var e;if("string"==typeof a1&&1===arguments.length)return N[a1];e="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(e[a1]=a2);for(var t in e)void 0!==e[t]?N[t]=e[t]:delete N[t];return this}function g(){return E}function m(){return C=[],this}function p(e,t){var i,r,n,o,a,s,l;if(!arguments.length){a=[];for(r in A)a.push(A[r]);for(r in S)a.push(S[r]);for(r in T)a.push(T[r]);a=a.concat(C)}if("string"==typeof e)switch(e){case"waiting":a=x(S);break;case"running":a=x(T);break;case"done":a=C;break;default:s=e}if(e instanceof RegExp&&(s=e),!s&&("string"==typeof t||t instanceof RegExp)&&(s=t),s){if(l="string"==typeof s,a instanceof Array)i=a;else if("object"==typeof a){i=[];for(r in a)i=i.concat(a[r])}else{i=[];for(r in A)i.push(A[r]);for(r in S)i.push(S[r]);for(r in T)i.push(T[r]);i=i.concat(C)}for(a=[],n=0,o=i.length;o>n;n++)(l?i[n].id===s:i[n].id.match(s))&&a.push(i[n])}return v(a)}function y(){var e,t,i={},r=arguments.length;for(e=r-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i}function v(e){var t,i,r;if(!e)return e;if(Array.isArray(e))for(t=[],i=0,r=e.length;r>i;i++)t.push(v(e[i]));else if("object"==typeof e){t={};for(i in e)t[i]=v(e[i])}else t=e;return t}function x(e){var t,i=[];for(t in e)i.push(e[t]);return i}function b(){return Date.now?Date.now():(new Date).getTime()}if(e.conrad)throw new Error("conrad already exists");var w,E=!1,A={},T={},_=[],S={},C=[],k=!1,N={frameDuration:20,history:!0},P=Object.create(null);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var M={hasJob:h,addJob:d,killJob:u,killAll:c,settings:f,getStats:p,isRunning:g,clearHistory:m,bind:r,unbind:n,version:"0.1.0"};"undefined"!=typeof i&&("undefined"!=typeof t&&t.exports&&(i=t.exports=M),i.conrad=M),e.conrad=M}(this);var r=this.sigma,n=this.conrad;r.conrad=n,"undefined"==typeof HTMLElement&&(HTMLElement=function(){}),"undefined"==typeof window&&(window={addEventListener:function(){}}),"undefined"!=typeof i&&("undefined"!=typeof t&&t.exports&&(i=t.exports=r),i.sigma=r),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";var t=this;r.utils=r.utils||{},r.utils.extend=function(){var e,t,i={},r=arguments.length;for(e=r-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i},r.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},r.utils.pkg=function(e){return(e||"").split(".").reduce(function(e,t){return t in e?e[t]:e[t]={}},t)},r.utils.id=function(){var e=0;return function(){return++e}}();var i={};r.utils.floatColor=function(e){if(i[e])return i[e];var t=e,r=0,n=0,o=0;"#"===e[0]?(e=e.slice(1),3===e.length?(r=parseInt(e.charAt(0)+e.charAt(0),16),n=parseInt(e.charAt(1)+e.charAt(1),16),o=parseInt(e.charAt(2)+e.charAt(2),16)):(r=parseInt(e.charAt(0)+e.charAt(1),16),n=parseInt(e.charAt(2)+e.charAt(3),16),o=parseInt(e.charAt(4)+e.charAt(5),16))):e.match(/^ *rgba? *\(/)&&(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),r=+e[1],n=+e[2],o=+e[3]);var a=256*r*256+256*n+o;return i[t]=a,a},r.utils.zoomTo=function(e,t,i,n,o){var a,s,l,d=e.settings;s=Math.max(d("zoomMin"),Math.min(d("zoomMax"),e.ratio*n)),s!==e.ratio&&(n=s/e.ratio,l={x:t*(1-n)+e.x,y:i*(1-n)+e.y,ratio:s},o&&o.duration?(a=r.misc.animation.killAll(e),o=r.utils.extend(o,{easing:a?"quadraticOut":"quadraticInOut"}),r.misc.animation.camera(e,l,o)):(e.goTo(l),o&&o.onComplete&&o.onComplete()))},r.utils.getQuadraticControlPoint=function(e,t,i,r){return{x:(e+i)/2+(r-t)/4,y:(t+r)/2+(e-i)/4}},r.utils.getPointOnQuadraticCurve=function(e,t,i,r,n,o,a){return{x:Math.pow(1-e,2)*t+2*(1-e)*e*o+Math.pow(e,2)*r,y:Math.pow(1-e,2)*i+2*(1-e)*e*a+Math.pow(e,2)*n}},r.utils.getPointOnBezierCurve=function(e,t,i,r,n,o,a,s,l){var d=Math.pow(1-e,3),u=3*e*Math.pow(1-e,2),c=3*Math.pow(e,2)*(1-e),h=Math.pow(e,3);return{x:d*t+u*o+c*s+h*r,y:d*i+u*a+c*l+h*n}},r.utils.getSelfLoopControlPoints=function(e,t,i){return{x1:e-7*i,y1:t,x2:e,y2:t+7*i}},r.utils.getDistance=function(e,t,i,r){return Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2))},r.utils.getCircleIntersection=function(e,t,i,r,n,o){var a,s,l,d,u,c,h,f,g;if(s=r-e,l=n-t,d=Math.sqrt(l*l+s*s),d>i+o)return!1;if(d<Math.abs(i-o))return!1;a=(i*i-o*o+d*d)/(2*d),f=e+s*a/d,g=t+l*a/d,u=Math.sqrt(i*i-a*a),c=-l*(u/d),h=s*(u/d);var m=f+c,p=f-c,y=g+h,v=g-h;return{xi:m,xi_prime:p,yi:y,yi_prime:v}},r.utils.isPointOnSegment=function(e,t,i,n,o,a,s){var l=Math.abs((t-n)*(o-i)-(e-i)*(a-n)),d=r.utils.getDistance(i,n,o,a),u=l/d;return s>u&&Math.min(i,o)<=e&&e<=Math.max(i,o)&&Math.min(n,a)<=t&&t<=Math.max(n,a)},r.utils.isPointOnQuadraticCurve=function(e,t,i,n,o,a,s,l,d){var u=r.utils.getDistance(i,n,o,a);if(Math.abs(e-i)>u||Math.abs(t-n)>u)return!1;for(var c,h=r.utils.getDistance(e,t,i,n),f=r.utils.getDistance(e,t,o,a),g=.5,m=f>h?-.01:.01,p=.001,y=100,v=r.utils.getPointOnQuadraticCurve(g,i,n,o,a,s,l),x=r.utils.getDistance(e,t,v.x,v.y);y-->0&&g>=0&&1>=g&&x>d&&(m>p||-p>m);)c=x,v=r.utils.getPointOnQuadraticCurve(g,i,n,o,a,s,l),x=r.utils.getDistance(e,t,v.x,v.y),x>c?(m=-m/2,g+=m):0>g+m||g+m>1?(m/=2,x=c):g+=m;return d>x},r.utils.isPointOnBezierCurve=function(e,t,i,n,o,a,s,l,d,u,c){var h=r.utils.getDistance(i,n,s,l);if(Math.abs(e-i)>h||Math.abs(t-n)>h)return!1;for(var f,g=r.utils.getDistance(e,t,i,n),m=r.utils.getDistance(e,t,o,a),p=.5,y=m>g?-.01:.01,v=.001,x=100,b=r.utils.getPointOnBezierCurve(p,i,n,o,a,s,l,d,u),w=r.utils.getDistance(e,t,b.x,b.y);x-->0&&p>=0&&1>=p&&w>c&&(y>v||-v>y);)f=w,b=r.utils.getPointOnBezierCurve(p,i,n,o,a,s,l,d,u),w=r.utils.getDistance(e,t,b.x,b.y),w>f?(y=-y/2,p+=y):0>p+y||p+y>1?(y/=2,w=f):p+=y;return c>w},r.utils.getX=function(t){return t.offsetX!==e&&t.offsetX||t.layerX!==e&&t.layerX||t.clientX!==e&&t.clientX},r.utils.getY=function(t){return t.offsetY!==e&&t.offsetY||t.layerY!==e&&t.layerY||t.clientY!==e&&t.clientY},r.utils.getPixelRatio=function(){var t=1;return window.screen.deviceXDPI!==e&&window.screen.logicalXDPI!==e&&window.screen.deviceXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==e&&(t=window.devicePixelRatio),t},r.utils.getWidth=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},r.utils.getCenter=function(e){var t=-1!==e.target.namespaceURI.indexOf("svg")?1:r.utils.getPixelRatio();return{x:r.utils.getWidth(e)/(2*t),y:r.utils.getHeight(e)/(2*t)}},r.utils.mouseCoords=function(e,t,i){return t=t||r.utils.getX(e),i=i||r.utils.getY(e),{x:t-r.utils.getCenter(e).x,y:i-r.utils.getCenter(e).y,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}},r.utils.getHeight=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},r.utils.getDelta=function(t){return t.wheelDelta!==e&&t.wheelDelta||t.detail!==e&&-t.detail},r.utils.getOffset=function(e){for(var t=0,i=0;e;)i+=parseInt(e.offsetTop),t+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:i,left:t}},r.utils.doubleClick=function(e,t,i){var n,o=0;e._doubleClickHandler=e._doubleClickHandler||{},e._doubleClickHandler[t]=e._doubleClickHandler[t]||[],n=e._doubleClickHandler[t],n.push(function(e){return o++,2===o?(o=0,i(e)):void(1===o&&setTimeout(function(){o=0},r.settings.doubleClickTimeout))}),e.addEventListener(t,n[n.length-1],!1)},r.utils.unbindDoubleClick=function(e,t){for(var i,r=(e._doubleClickHandler||{})[t]||[];i=r.pop();)e.removeEventListener(t,i);delete(e._doubleClickHandler||{})[t]},r.utils.easings=r.utils.easings||{},r.utils.easings.linearNone=function(e){return e},r.utils.easings.quadraticIn=function(e){return e*e},r.utils.easings.quadraticOut=function(e){return e*(2-e)},r.utils.easings.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},r.utils.easings.cubicIn=function(e){return e*e*e},r.utils.easings.cubicOut=function(e){return--e*e*e+1},r.utils.easings.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},r.utils.loadShader=function(e,t,i,r){var n,o=e.createShader(i);return e.shaderSource(o,t),e.compileShader(o),n=e.getShaderParameter(o,e.COMPILE_STATUS),n?o:(r&&r('Error compiling shader "'+o+'":'+e.getShaderInfoLog(o)),e.deleteShader(o),null)},r.utils.loadProgram=function(e,t,i,r,n){var o,a,s=e.createProgram();for(o=0;o<t.length;++o)e.attachShader(s,t[o]);if(i)for(o=0;o<i.length;++o)e.bindAttribLocation(s,locations?locations[o]:o,opt_attribs[o]);return e.linkProgram(s),a=e.getProgramParameter(s,e.LINK_STATUS),a?s:(n&&n("Error in program linking: "+e.getProgramInfoLog(s)),e.deleteProgram(s),null)},r.utils.pkg("sigma.utils.matrices"),r.utils.matrices.translation=function(e,t){return[1,0,0,0,1,0,e,t,1]},r.utils.matrices.rotation=function(e,t){var i=Math.cos(e),r=Math.sin(e);return t?[i,-r,r,i]:[i,-r,0,r,i,0,0,0,1]},r.utils.matrices.scale=function(e,t){return t?[e,0,0,e]:[e,0,0,0,e,0,0,0,1]},r.utils.matrices.multiply=function(e,t,i){var r=i?2:3,n=e[0*r+0],o=e[0*r+1],a=e[0*r+2],s=e[1*r+0],l=e[1*r+1],d=e[1*r+2],u=e[2*r+0],c=e[2*r+1],h=e[2*r+2],f=t[0*r+0],g=t[0*r+1],m=t[0*r+2],p=t[1*r+0],y=t[1*r+1],v=t[1*r+2],x=t[2*r+0],b=t[2*r+1],w=t[2*r+2];return i?[n*f+o*p,n*g+o*y,s*f+l*p,s*g+l*y]:[n*f+o*p+a*x,n*g+o*y+a*b,n*m+o*v+a*w,s*f+l*p+d*x,s*g+l*y+d*b,s*m+l*v+d*w,u*f+c*p+h*x,u*g+c*y+h*b,u*m+c*v+h*w]}}.call(this),function(e){"use strict";var t,i=0,r=["ms","moz","webkit","o"];for(t=0;t<r.length&&!e.requestAnimationFrame;t++)e.requestAnimationFrame=e[r[t]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[t]+"CancelAnimationFrame"]||e[r[t]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-i)),o=e.setTimeout(function(){t(r+n)},n);return i=r+n,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t,i,r=Array.prototype.slice.call(arguments,1),n=this;return t=function(){},i=function(){return n.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))},t.prototype=this.prototype,i.prototype=new t,i})}(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.settings");var e={clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};r.settings=r.utils.extend(r.settings||{},e)}.call(this),function(){"use strict";var e=function(){Object.defineProperty(this,"_handlers",{value:{}})};e.prototype.bind=function(e,t){var i,r,n,o;if(1===arguments.length&&"object"==typeof arguments[0])for(e in arguments[0])this.bind(e,arguments[0][e]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(o="string"==typeof e?e.split(" "):e,i=0,r=o.length;i!==r;i+=1)n=o[i],n&&(this._handlers[n]||(this._handlers[n]=[]),this._handlers[n].push({handler:t}))}return this},e.prototype.unbind=function(e,t){var i,r,n,o,a,s,l,d="string"==typeof e?e.split(" "):e;if(!arguments.length){for(a in this._handlers)delete this._handlers[a];return this}if(t)for(i=0,r=d.length;i!==r;i+=1){if(l=d[i],this._handlers[l]){for(s=[],n=0,o=this._handlers[l].length;n!==o;n+=1)this._handlers[l][n].handler!==t&&s.push(this._handlers[l][n]);this._handlers[l]=s}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(i=0,r=d.length;i!==r;i+=1)delete this._handlers[d[i]];return this},e.prototype.dispatchEvent=function(e,t){var i,r,n,o,a,s,l,d=this,u="string"==typeof e?e.split(" "):e;for(t=void 0===t?{}:t,i=0,r=u.length;i!==r;i+=1)if(l=u[i],this._handlers[l]){for(s=d.getEvent(l,t),a=[],n=0,o=this._handlers[l].length;n!==o;n+=1)this._handlers[l][n].handler(s),this._handlers[l][n].one||a.push(this._handlers[l][n]);this._handlers[l]=a}return this},e.prototype.getEvent=function(e,t){return{type:e,data:t||{},target:this}},e.extend=function(t,i){var r;for(r in e.prototype)e.prototype.hasOwnProperty(r)&&(t[r]=e.prototype[r]);e.apply(t,i)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=e):"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=e),i.dispatcher=e):this.dispatcher=e}.call(this),function(){"use strict";var e=function(){var t,i,r={},n=Array.prototype.slice.call(arguments,0),o=function(e,t){var i,a,s,l;if(1===arguments.length&&"string"==typeof e){if(void 0!==r[e])return r[e];for(a=0,s=n.length;s>a;a++)if(void 0!==n[a][e])return n[a][e];return void 0}if("object"==typeof e&&"string"==typeof t)return void 0!==(e||{})[t]?e[t]:o(t);for(i="object"==typeof e&&void 0===t?e:{},"string"==typeof e&&(i[e]=t),a=0,l=Object.keys(i),s=l.length;s>a;a++)r[l[a]]=i[l[a]];return this};for(o.embedObjects=function(){var t=n.concat(r).concat(Array.prototype.splice.call(arguments,0));return e.apply({},t)},t=0,i=arguments.length;i>t;t++)o(arguments[t]);return o};"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=e):"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=e),i.configurable=e):this.configurable=e}.call(this),function(){"use strict";function e(e,t,i){var r=function(){var r,n;for(r in d[e])d[e][r].apply(t,arguments);n=i.apply(t,arguments);for(r in l[e])l[e][r].apply(t,arguments);return n};return r}function n(e){var t;for(t in e)"hasOwnProperty"in e&&!e.hasOwnProperty(t)||delete e[t];return e}var o=Object.create(null),a=Object.create(null),s=Object.create(null),l=Object.create(null),d=Object.create(null),u={immutable:!0,clone:!0},c=function(e){return u[e]},h=function(t){var i,r,n;n={settings:t||c,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(i in s)s[i].call(n);for(i in o)r=e(i,n,o[i]),this[i]=r,n[i]=r};h.addMethod=function(e,t){if("string"!=typeof e||"function"!=typeof t||2!==arguments.length)throw"addMethod: Wrong arguments.";if(o[e]||h[e])throw'The method "'+e+'" already exists.';return o[e]=t,l[e]=Object.create(null),d[e]=Object.create(null),this},h.hasMethod=function(e){return!(!o[e]&&!h[e])},h.attach=function(e,t,i,r){if("string"!=typeof e||"string"!=typeof t||"function"!=typeof i||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var n;if("constructor"===e)n=s;else if(r){if(!d[e])throw'The method "'+e+'" does not exist.';n=d[e]}else{if(!l[e])throw'The method "'+e+'" does not exist.';n=l[e]}if(n[t])throw'A function "'+t+'" is already attached to the method "'+e+'".';return n[t]=i,this},h.attachBefore=function(e,t,i){return this.attach(e,t,i,!0)},h.addIndex=function(e,t){if("string"!=typeof e||Object(t)!==t||2!==arguments.length)throw"addIndex: Wrong arguments.";if(a[e])throw'The index "'+e+'" already exists.';var i;a[e]=t;for(i in t){if("function"!=typeof t[i])throw"The bindings must be functions.";h.attach(i,e,t[i])}return this},h.addMethod("addNode",function(e){if(Object(e)!==e||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The node must have a string or number id.";if(this.nodesIndex[e.id])throw'The node "'+e.id+'" already exists.';var t,i=e.id,r=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&(r[t]=e[t]);else r=e;return this.settings("immutable")?Object.defineProperty(r,"id",{value:i,enumerable:!0}):r.id=i,this.inNeighborsIndex[i]=Object.create(null),this.outNeighborsIndex[i]=Object.create(null),this.allNeighborsIndex[i]=Object.create(null),this.inNeighborsCount[i]=0,this.outNeighborsCount[i]=0,this.allNeighborsCount[i]=0,this.nodesArray.push(r),this.nodesIndex[r.id]=r,this}),h.addMethod("addEdge",function(e){if(Object(e)!==e||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The edge must have a string or number id.";if("string"!=typeof e.source&&"number"!=typeof e.source||!this.nodesIndex[e.source])throw"The edge source must have an existing node id.";if("string"!=typeof e.target&&"number"!=typeof e.target||!this.nodesIndex[e.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[e.id])throw'The edge "'+e.id+'" already exists.';var t,i=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&"source"!==t&&"target"!==t&&(i[t]=e[t]);else i=e;return this.settings("immutable")?(Object.defineProperty(i,"id",{value:e.id,enumerable:!0}),Object.defineProperty(i,"source",{value:e.source,enumerable:!0}),Object.defineProperty(i,"target",{value:e.target,enumerable:!0})):(i.id=e.id,i.source=e.source,i.target=e.target),this.edgesArray.push(i),this.edgesIndex[i.id]=i,this.inNeighborsIndex[i.target][i.source]||(this.inNeighborsIndex[i.target][i.source]=Object.create(null)),this.inNeighborsIndex[i.target][i.source][i.id]=i,this.outNeighborsIndex[i.source][i.target]||(this.outNeighborsIndex[i.source][i.target]=Object.create(null)),this.outNeighborsIndex[i.source][i.target][i.id]=i,this.allNeighborsIndex[i.source][i.target]||(this.allNeighborsIndex[i.source][i.target]=Object.create(null)),this.allNeighborsIndex[i.source][i.target][i.id]=i,i.target!==i.source&&(this.allNeighborsIndex[i.target][i.source]||(this.allNeighborsIndex[i.target][i.source]=Object.create(null)),this.allNeighborsIndex[i.target][i.source][i.id]=i),this.inNeighborsCount[i.target]++,this.outNeighborsCount[i.source]++,this.allNeighborsCount[i.target]++,this.allNeighborsCount[i.source]++,this}),h.addMethod("dropNode",function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[e])throw'The node "'+e+'" does not exist.';var t,i,r;for(delete this.nodesIndex[e],t=0,r=this.nodesArray.length;r>t;t++)if(this.nodesArray[t].id===e){this.nodesArray.splice(t,1);break}for(t=this.edgesArray.length-1;t>=0;t--)(this.edgesArray[t].source===e||this.edgesArray[t].target===e)&&this.dropEdge(this.edgesArray[t].id);delete this.inNeighborsIndex[e],delete this.outNeighborsIndex[e],delete this.allNeighborsIndex[e],delete this.inNeighborsCount[e],delete this.outNeighborsCount[e],delete this.allNeighborsCount[e];for(i in this.nodesIndex)delete this.inNeighborsIndex[i][e],delete this.outNeighborsIndex[i][e],delete this.allNeighborsIndex[i][e];return this}),h.addMethod("dropEdge",function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[e])throw'The edge "'+e+'" does not exist.';var t,i,r;for(r=this.edgesIndex[e],delete this.edgesIndex[e],t=0,i=this.edgesArray.length;i>t;t++)if(this.edgesArray[t].id===e){this.edgesArray.splice(t,1);break}return delete this.inNeighborsIndex[r.target][r.source][r.id],Object.keys(this.inNeighborsIndex[r.target][r.source]).length||delete this.inNeighborsIndex[r.target][r.source],delete this.outNeighborsIndex[r.source][r.target][r.id],Object.keys(this.outNeighborsIndex[r.source][r.target]).length||delete this.outNeighborsIndex[r.source][r.target],delete this.allNeighborsIndex[r.source][r.target][r.id],Object.keys(this.allNeighborsIndex[r.source][r.target]).length||delete this.allNeighborsIndex[r.source][r.target],r.target!==r.source&&(delete this.allNeighborsIndex[r.target][r.source][r.id],Object.keys(this.allNeighborsIndex[r.target][r.source]).length||delete this.allNeighborsIndex[r.target][r.source]),this.inNeighborsCount[r.target]--,this.outNeighborsCount[r.source]--,this.allNeighborsCount[r.source]--,this.allNeighborsCount[r.target]--,this}),h.addMethod("kill",function(){
this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),h.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,n(this.nodesIndex),n(this.edgesIndex),n(this.nodesIndex),n(this.inNeighborsIndex),n(this.outNeighborsIndex),n(this.allNeighborsIndex),n(this.inNeighborsCount),n(this.outNeighborsCount),n(this.allNeighborsCount),this}),h.addMethod("read",function(e){var t,i,r;for(i=e.nodes||[],t=0,r=i.length;r>t;t++)this.addNode(i[t]);for(i=e.edges||[],t=0,r=i.length;r>t;t++)this.addEdge(i[t]);return this}),h.addMethod("nodes",function(e){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.nodesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,r=[];for(t=0,i=e.length;i>t;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"nodes: Wrong arguments.";r.push(this.nodesIndex[e[t]])}return r}throw"nodes: Wrong arguments."}),h.addMethod("degree",function(e,t){if(t={in:this.inNeighborsCount,out:this.outNeighborsCount}[t||""]||this.allNeighborsCount,"string"==typeof e||"number"==typeof e)return t[e];if("[object Array]"===Object.prototype.toString.call(e)){var i,r,n=[];for(i=0,r=e.length;r>i;i++){if("string"!=typeof e[i]&&"number"!=typeof e[i])throw"degree: Wrong arguments.";n.push(t[e[i]])}return n}throw"degree: Wrong arguments."}),h.addMethod("edges",function(e){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.edgesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,r=[];for(t=0,i=e.length;i>t;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"edges: Wrong arguments.";r.push(this.edgesIndex[e[t]])}return r}throw"edges: Wrong arguments."}),"undefined"!=typeof r?(r.classes=r.classes||Object.create(null),r.classes.graph=h):"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=h),i.graph=h):this.graph=h}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.classes"),r.classes.camera=function(e,t,i,n){r.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:t}),Object.defineProperty(this,"id",{value:e}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+e+":"}),Object.defineProperty(this,"prefix",{value:"cam"+e+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof n&&n?i.embedObject(n):i},r.classes.camera.prototype.goTo=function(t){if(!this.settings("enableCamera"))return this;var i,r,n=t||{},o=["x","y","ratio","angle"];for(i=0,r=o.length;r>i;i++)if(n[o[i]]!==e){if("number"!=typeof n[o[i]]||isNaN(n[o[i]]))throw'Value for "'+o[i]+'" is not a number.';this[o[i]]=n[o[i]]}return this.dispatchEvent("coordinatesUpdated"),this},r.classes.camera.prototype.applyView=function(t,i,r){r=r||{},i=i!==e?i:this.prefix,t=t!==e?t:this.readPrefix;var n,o,a,s=r.nodes||this.graph.nodes(),l=r.edges||this.graph.edges(),d=Math.cos(this.angle)/this.ratio,u=Math.sin(this.angle)/this.ratio,c=Math.pow(this.ratio,this.settings("nodesPowRatio")),h=Math.pow(this.ratio,this.settings("edgesPowRatio")),f=(r.width||0)/2-this.x*d-this.y*u,g=(r.height||0)/2-this.y*d+this.x*u;for(n=0,o=s.length;o>n;n++)a=s[n],a[i+"x"]=(a[t+"x"]||0)*d+(a[t+"y"]||0)*u+f,a[i+"y"]=(a[t+"y"]||0)*d-(a[t+"x"]||0)*u+g,a[i+"size"]=(a[t+"size"]||0)/c;for(n=0,o=l.length;o>n;n++)l[n][i+"size"]=(l[n][t+"size"]||0)/h;return this},r.classes.camera.prototype.graphPosition=function(e,t,i){var r=0,n=0,o=Math.cos(this.angle),a=Math.sin(this.angle);return i||(r=-(this.x*o+this.y*a)/this.ratio,n=-(this.y*o-this.x*a)/this.ratio),{x:(e*o+t*a)/this.ratio+r,y:(t*o-e*a)/this.ratio+n}},r.classes.camera.prototype.cameraPosition=function(e,t,i){var r=0,n=0,o=Math.cos(this.angle),a=Math.sin(this.angle);return i||(r=-(this.x*o+this.y*a)/this.ratio,n=-(this.y*o-this.x*a)/this.ratio),{x:((e-r)*o-(t-n)*a)*this.ratio,y:((t-n)*o+(e-r)*a)*this.ratio}},r.classes.camera.prototype.getMatrix=function(){var e=r.utils.matrices.scale(1/this.ratio),t=r.utils.matrices.rotation(this.angle),i=r.utils.matrices.translation(-this.x,-this.y),n=r.utils.matrices.multiply(i,r.utils.matrices.multiply(t,e));return n},r.classes.camera.prototype.getRectangle=function(e,t){var i=this.cameraPosition(e,0,!0),r=this.cameraPosition(0,t,!0),n=this.cameraPosition(e/2,t/2,!0),o=this.cameraPosition(e/4,0,!0).x,a=this.cameraPosition(0,t/4,!0).y;return{x1:this.x-n.x-o,y1:this.y-n.y-a,x2:this.x-n.x+o+i.x,y2:this.y-n.y-a+i.y,height:Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y+2*a,2))}}}.call(this),function(e){"use strict";function r(e,t){var i=t.x+t.width/2,r=t.y+t.height/2,n=e.y<r,o=e.x<i;return n?o?0:1:o?2:3}function n(e,t){for(var i=[],r=0;4>r;r++)e.x2>=t[r][0].x&&e.x1<=t[r][1].x&&e.y1+e.height>=t[r][0].y&&e.y1<=t[r][2].y&&i.push(r);return i}function o(e,t){for(var i=[],r=0;4>r;r++)c.collision(e,t[r])&&i.push(r);return i}function a(e,t){var i,r,n=t.level+1,o=Math.round(t.bounds.width/2),a=Math.round(t.bounds.height/2),s=Math.round(t.bounds.x),l=Math.round(t.bounds.y);switch(e){case 0:i=s,r=l;break;case 1:i=s+o,r=l;break;case 2:i=s,r=l+a;break;case 3:i=s+o,r=l+a}return u({x:i,y:r,width:o,height:a},n,t.maxElements,t.maxLevel)}function s(t,i,r){if(r.level<r.maxLevel)for(var o=n(i,r.corners),l=0,d=o.length;d>l;l++)r.nodes[o[l]]===e&&(r.nodes[o[l]]=a(o[l],r)),s(t,i,r.nodes[o[l]]);else r.elements.push(t)}function l(t,i){if(i.level<i.maxLevel){var n=r(t,i.bounds);return i.nodes[n]!==e?l(t,i.nodes[n]):[]}return i.elements}function d(t,i,r,n){if(n=n||{},i.level<i.maxLevel)for(var o=r(t,i.corners),a=0,s=o.length;s>a;a++)i.nodes[o[a]]!==e&&d(t,i.nodes[o[a]],r,n);else for(var l=0,u=i.elements.length;u>l;l++)n[i.elements[l].id]===e&&(n[i.elements[l].id]=i.elements[l]);return n}function u(e,t,i,r){return{level:t||0,bounds:e,corners:c.splitSquare(e),maxElements:i||20,maxLevel:r||4,elements:[],nodes:[]}}var c={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var r=[],n=[],o=0;4>o;o++){var a=this.projection(t[o],e),s=this.projection(i[o],e);r.push(a.x*e.x+a.y*e.y),n.push(s.x*e.x+s.y*e.y)}var l=Math.max.apply(Math,r),d=Math.max.apply(Math,n),u=Math.min.apply(Math,r),c=Math.min.apply(Math,n);return l>=c&&d>=u},collision:function(e,t){for(var i=this.axis(e,t),r=!0,n=0;4>n;n++)r=r&&this.axisCollision(i[n],e,t);return r}},h=function(){this._geom=c,this._tree=null,this._cache={query:!1,result:!1}};h.prototype.index=function(e,t){if(!t.bounds)throw"sigma.classes.quad.index: bounds information not given.";var i=t.prefix||"";this._tree=u(t.bounds,0,t.maxElements,t.maxLevel);for(var r=0,n=e.length;n>r;r++)s(e[r],c.pointToSquare({x:e[r][i+"x"],y:e[r][i+"y"],size:e[r][i+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},h.prototype.point=function(e,t){return this._tree?l({x:e,y:t},this._tree)||[]:[]},h.prototype.area=function(e){var t,i,r=JSON.stringify(e);if(this._cache.query===r)return this._cache.result;c.isAxisAligned(e)?(t=n,i=c.axisAlignedTopPoints(e)):(t=o,i=c.rectangleCorners(e));var a=this._tree?d(i,this._tree,t):[],s=[];for(var l in a)s.push(a[l]);return this._cache.query=r,this._cache.result=s,s},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=h):"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=h),i.quad=h):this.quad=h}.call(this),function(e){"use strict";function n(e,t){var i=t.x+t.width/2,r=t.y+t.height/2,n=e.y<r,o=e.x<i;return n?o?0:1:o?2:3}function o(e,t){for(var i=[],r=0;4>r;r++)e.x2>=t[r][0].x&&e.x1<=t[r][1].x&&e.y1+e.height>=t[r][0].y&&e.y1<=t[r][2].y&&i.push(r);return i}function a(e,t){for(var i=[],r=0;4>r;r++)h.collision(e,t[r])&&i.push(r);return i}function s(e,t){var i,r,n=t.level+1,o=Math.round(t.bounds.width/2),a=Math.round(t.bounds.height/2),s=Math.round(t.bounds.x),l=Math.round(t.bounds.y);switch(e){case 0:i=s,r=l;break;case 1:i=s+o,r=l;break;case 2:i=s,r=l+a;break;case 3:i=s+o,r=l+a}return c({x:i,y:r,width:o,height:a},n,t.maxElements,t.maxLevel)}function l(t,i,r){if(r.level<r.maxLevel)for(var n=o(i,r.corners),a=0,d=n.length;d>a;a++)r.nodes[n[a]]===e&&(r.nodes[n[a]]=s(n[a],r)),l(t,i,r.nodes[n[a]]);else r.elements.push(t)}function d(t,i){if(i.level<i.maxLevel){var r=n(t,i.bounds);return i.nodes[r]!==e?d(t,i.nodes[r]):[]}return i.elements}function u(t,i,r,n){if(n=n||{},i.level<i.maxLevel)for(var o=r(t,i.corners),a=0,s=o.length;s>a;a++)i.nodes[o[a]]!==e&&u(t,i.nodes[o[a]],r,n);else for(var l=0,d=i.elements.length;d>l;l++)n[i.elements[l].id]===e&&(n[i.elements[l].id]=i.elements[l]);return n}function c(e,t,i,r){return{level:t||0,bounds:e,corners:h.splitSquare(e),maxElements:i||40,maxLevel:r||8,elements:[],nodes:[]}}var h={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},lineToSquare:function(e){return e.y1<e.y2?e.x1<e.x2?{x1:e.x1-e.size,y1:e.y1-e.size,x2:e.x2+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:{x1:e.x2-e.size,y1:e.y1-e.size,x2:e.x1+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:e.x1<e.x2?{x1:e.x1-e.size,y1:e.y2-e.size,x2:e.x2+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}:{x1:e.x2-e.size,y1:e.y2-e.size,x2:e.x1+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}},quadraticCurveToSquare:function(e,t){var i=r.utils.getPointOnQuadraticCurve(.5,e.x1,e.y1,e.x2,e.y2,t.x,t.y),n=Math.min(e.x1,e.x2,i.x),o=Math.max(e.x1,e.x2,i.x),a=Math.min(e.y1,e.y2,i.y),s=Math.max(e.y1,e.y2,i.y);return{x1:n-e.size,y1:a-e.size,x2:o+e.size,y2:a-e.size,height:s-a+2*e.size}},selfLoopToSquare:function(e){var t=r.utils.getSelfLoopControlPoints(e.x,e.y,e.size),i=Math.min(e.x,t.x1,t.x2),n=Math.max(e.x,t.x1,t.x2),o=Math.min(e.y,t.y1,t.y2),a=Math.max(e.y,t.y1,t.y2);return{x1:i-e.size,y1:o-e.size,x2:n+e.size,y2:o-e.size,height:a-o+2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var r=[],n=[],o=0;4>o;o++){var a=this.projection(t[o],e),s=this.projection(i[o],e);r.push(a.x*e.x+a.y*e.y),n.push(s.x*e.x+s.y*e.y)}var l=Math.max.apply(Math,r),d=Math.max.apply(Math,n),u=Math.min.apply(Math,r),c=Math.min.apply(Math,n);return l>=c&&d>=u},collision:function(e,t){for(var i=this.axis(e,t),r=!0,n=0;4>n;n++)r=r&&this.axisCollision(i[n],e,t);return r}},f=function(){this._geom=h,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};f.prototype.index=function(e,t){if(!this._enabled)return this._tree;if(!t.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var i,n,o,a,s,d=t.prefix||"";this._tree=c(t.bounds,0,t.maxElements,t.maxLevel);for(var u=e.edges(),f=0,g=u.length;g>f;f++)n=e.nodes(u[f].source),o=e.nodes(u[f].target),s={x1:n[d+"x"],y1:n[d+"y"],x2:o[d+"x"],y2:o[d+"y"],size:u[f][d+"size"]||0},"curve"===u[f].type||"curvedArrow"===u[f].type?n.id===o.id?(a={x:n[d+"x"],y:n[d+"y"],size:n[d+"size"]||0},l(u[f],h.selfLoopToSquare(a),this._tree)):(i=r.utils.getQuadraticControlPoint(s.x1,s.y1,s.x2,s.y2),l(u[f],h.quadraticCurveToSquare(s,i),this._tree)):l(u[f],h.lineToSquare(s),this._tree);return this._cache={query:!1,result:!1},this._tree},f.prototype.point=function(e,t){return this._enabled&&this._tree?d({x:e,y:t},this._tree)||[]:[]},f.prototype.area=function(e){if(!this._enabled)return[];var t,i,r=JSON.stringify(e);if(this._cache.query===r)return this._cache.result;h.isAxisAligned(e)?(t=o,i=h.axisAlignedTopPoints(e)):(t=a,i=h.rectangleCorners(e));var n=this._tree?u(i,this._tree,t):[],s=[];for(var l in n)s.push(n[l]);return this._cache.query=r,this._cache.result=s,s},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=f):"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=f),i.edgequad=f):this.edgequad=f}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.captors"),r.captors.mouse=function(e,t,i){function n(e){var t,i,n;return _("mouseEnabled")&&(E.dispatchEvent("mousemove",r.utils.mouseCoords(e)),y)?(v=!0,x=!0,w&&clearTimeout(w),w=setTimeout(function(){v=!1},_("dragTimeout")),r.misc.animation.killAll(T),T.isMoving=!0,n=T.cameraPosition(r.utils.getX(e)-m,r.utils.getY(e)-p,!0),t=c-n.x,i=h-n.y,(t!==T.x||i!==T.y)&&(f=T.x,g=T.y,T.goTo({x:t,y:i})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function o(e){if(_("mouseEnabled")&&y){y=!1,w&&clearTimeout(w),T.isMoving=!1;var t=r.utils.getX(e),i=r.utils.getY(e);v?(r.misc.animation.killAll(T),r.misc.animation.camera(T,{x:T.x+_("mouseInertiaRatio")*(T.x-f),y:T.y+_("mouseInertiaRatio")*(T.y-g)},{easing:"quadraticOut",duration:_("mouseInertiaDuration")})):(m!==t||p!==i)&&T.goTo({x:T.x,y:T.y}),E.dispatchEvent("mouseup",r.utils.mouseCoords(e)),v=!1}}function a(e){if(_("mouseEnabled"))switch(c=T.x,h=T.y,f=T.x,g=T.y,m=r.utils.getX(e),p=r.utils.getY(e),x=!1,b=(new Date).getTime(),e.which){case 2:break;case 3:E.dispatchEvent("rightclick",r.utils.mouseCoords(e,m,p));break;default:y=!0,E.dispatchEvent("mousedown",r.utils.mouseCoords(e,m,p))}}function s(){_("mouseEnabled")&&E.dispatchEvent("mouseout")}function l(e){if(_("mouseEnabled")){var t=r.utils.mouseCoords(e);t.isDragging=(new Date).getTime()-b>100&&x,E.dispatchEvent("click",t)}return e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function d(e){var t,i,n;return _("mouseEnabled")?(i=1/_("doubleClickZoomingRatio"),E.dispatchEvent("doubleclick",r.utils.mouseCoords(e,m,p)),_("doubleClickEnabled")&&(t=T.cameraPosition(r.utils.getX(e)-r.utils.getCenter(e).x,r.utils.getY(e)-r.utils.getCenter(e).y,!0),n={duration:_("doubleClickZoomDuration")},r.utils.zoomTo(T,t.x,t.y,i,n)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function u(e){var t,i,n,o=r.utils.getDelta(e);return _("mouseEnabled")&&_("mouseWheelEnabled")&&0!==o?(i=o>0?1/_("zoomingRatio"):_("zoomingRatio"),t=T.cameraPosition(r.utils.getX(e)-r.utils.getCenter(e).x,r.utils.getY(e)-r.utils.getCenter(e).y,!0),n={duration:_("mouseZoomDuration")},r.utils.zoomTo(T,t.x,t.y,i,n),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var c,h,f,g,m,p,y,v,x,b,w,E=this,A=e,T=t,_=i;r.classes.dispatcher.extend(this),r.utils.doubleClick(A,"click",d),A.addEventListener("DOMMouseScroll",u,!1),A.addEventListener("mousewheel",u,!1),A.addEventListener("mousemove",n,!1),A.addEventListener("mousedown",a,!1),A.addEventListener("click",l,!1),A.addEventListener("mouseout",s,!1),document.addEventListener("mouseup",o,!1),this.kill=function(){r.utils.unbindDoubleClick(A,"click"),A.removeEventListener("DOMMouseScroll",u),A.removeEventListener("mousewheel",u),A.removeEventListener("mousemove",n),A.removeEventListener("mousedown",a),A.removeEventListener("click",l),A.removeEventListener("mouseout",s),document.removeEventListener("mouseup",o)}}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.captors"),r.captors.touch=function(e,t,i){function n(e){var t=r.utils.getOffset(k);return{x:e.pageX-t.left,y:e.pageY-t.top}}function o(e){if(P("touchEnabled")){var t,i,r,o,a,s;switch(M=e.touches,M.length){case 1:N.isMoving=!0,A=1,d=N.x,u=N.y,f=N.x,g=N.y,a=n(M[0]),y=a.x,v=a.y;break;case 2:return N.isMoving=!0,A=2,a=n(M[0]),s=n(M[1]),t=a.x,r=a.y,i=s.x,o=s.y,f=N.x,g=N.y,c=N.angle,h=N.ratio,d=N.x,u=N.y,y=t,v=r,x=i,b=o,w=Math.atan2(b-v,x-y),E=Math.sqrt((b-v)*(b-v)+(x-y)*(x-y)),e.preventDefault(),!1}}}function a(e){if(P("touchEnabled")){M=e.touches;var t=P("touchInertiaRatio");switch(S&&(T=!1,clearTimeout(S)),A){case 2:if(1===e.touches.length){o(e),e.preventDefault();break}case 1:N.isMoving=!1,C.dispatchEvent("stopDrag"),T&&(_=!1,r.misc.animation.camera(N,{x:N.x+t*(N.x-f),y:N.y+t*(N.y-g)},{easing:"quadraticOut",duration:P("touchInertiaDuration")})),T=!1,A=0}}}function s(e){if(!_&&P("touchEnabled")){var t,i,o,a,s,l,k,O,z,R,I,L,j,F,B,D,H;switch(M=e.touches,T=!0,S&&clearTimeout(S),S=setTimeout(function(){T=!1},P("dragTimeout")),A){case 1:O=n(M[0]),t=O.x,o=O.y,R=N.cameraPosition(t-y,o-v,!0),F=d-R.x,B=u-R.y,(F!==N.x||B!==N.y)&&(f=N.x,g=N.y,N.goTo({x:F,y:B}),C.dispatchEvent("mousemove",r.utils.mouseCoords(e,O.x,O.y)),C.dispatchEvent("drag"));break;case 2:O=n(M[0]),z=n(M[1]),t=O.x,o=O.y,i=z.x,a=z.y,I=N.cameraPosition((y+x)/2-r.utils.getCenter(e).x,(v+b)/2-r.utils.getCenter(e).y,!0),k=N.cameraPosition((t+i)/2-r.utils.getCenter(e).x,(o+a)/2-r.utils.getCenter(e).y,!0),L=Math.atan2(a-o,i-t)-w,j=Math.sqrt((a-o)*(a-o)+(i-t)*(i-t))/E,t=I.x,o=I.y,D=h/j,t*=j,o*=j,H=c-L,s=Math.cos(-L),l=Math.sin(-L),i=t*s+o*l,a=o*s-t*l,t=i,o=a,F=t-k.x+d,B=o-k.y+u,(D!==N.ratio||H!==N.angle||F!==N.x||B!==N.y)&&(f=N.x,g=N.y,m=N.angle,p=N.ratio,N.goTo({x:F,y:B,angle:H,ratio:D}),C.dispatchEvent("drag"))}return e.preventDefault(),!1}}function l(e){var t,i,o;return e.touches&&1===e.touches.length&&P("touchEnabled")?(_=!0,i=1/P("doubleClickZoomingRatio"),t=n(e.touches[0]),C.dispatchEvent("doubleclick",r.utils.mouseCoords(e,t.x,t.y)),P("doubleClickEnabled")&&(t=N.cameraPosition(t.x-r.utils.getCenter(e).x,t.y-r.utils.getCenter(e).y,!0),o={duration:P("doubleClickZoomDuration"),onComplete:function(){_=!1}},r.utils.zoomTo(N,t.x,t.y,i,o)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var d,u,c,h,f,g,m,p,y,v,x,b,w,E,A,T,_,S,C=this,k=e,N=t,P=i,M=[];r.classes.dispatcher.extend(this),r.utils.doubleClick(k,"touchstart",l),k.addEventListener("touchstart",o,!1),k.addEventListener("touchend",a,!1),k.addEventListener("touchcancel",a,!1),k.addEventListener("touchleave",a,!1),k.addEventListener("touchmove",s,!1),this.kill=function(){r.utils.unbindDoubleClick(k,"touchstart"),k.addEventListener("touchstart",o),k.addEventListener("touchend",a),k.addEventListener("touchcancel",a),k.addEventListener("touchleave",a),k.addEventListener("touchmove",s)}}}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";if("undefined"==typeof n)throw"conrad is not declared";r.utils.pkg("sigma.renderers"),r.renderers.canvas=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.canvas: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var o,a,s,l;for(r.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:r.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=this.options.captors||[r.captors.mouse,r.captors.touch],o=0,a=s.length;a>o;o++)l="function"==typeof s[o]?s[o]:r.captors[s[o]],this.captors.push(new l(this.domElements.mouse,this.camera,this.settings));r.misc.bindEvents.call(this,this.options.prefix),r.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},r.renderers.canvas.prototype.render=function(t){t=t||{};var i,o,a,s,l,d,u,c,h,f,g,m,p,y={},v=this.graph,x=this.graph.nodes,b=(this.options.prefix||"",this.settings(t,"drawEdges")),w=this.settings(t,"drawNodes"),E=this.settings(t,"drawLabels"),A=this.settings(t,"drawEdgeLabels"),T=this.settings.embedObjects(t,{prefix:this.options.prefix});this.resize(!1),this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(b=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(a in this.jobs)n.hasJob(a)&&n.killJob(a);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,o=0,s=i.length;s>o;o++)y[i[o].id]=i[o];if(b){for(i=v.edges(),o=0,s=i.length;s>o;o++)l=i[o],!y[l.source]&&!y[l.target]||l.hidden||x(l.source).hidden||x(l.target).hidden||this.edgesOnScreen.push(l);if(this.settings(t,"batchEdgesDrawing"))d="edges_"+this.conradId,m=T("canvasEdgesBatchSize"),f=this.edgesOnScreen,s=f.length,h=0,u=Math.min(f.length,h+m),c=function(){for(p=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",g=r.canvas.edges,o=h;u>o;o++)l=f[o],(g[l.type||this.settings(t,"defaultEdgeType")]||g.def)(l,v.nodes(l.source),v.nodes(l.target),this.contexts.edges,T);if(A)for(g=r.canvas.edges.labels,o=h;u>o;o++)l=f[o],l.hidden||(g[l.type||this.settings(t,"defaultEdgeType")]||g.def)(l,v.nodes(l.source),v.nodes(l.target),this.contexts.labels,T);return this.contexts.edges.globalCompositeOperation=p,u===f.length?(delete this.jobs[d],!1):(h=u+1,u=Math.min(f.length,h+m),!0)},this.jobs[d]=c,n.addJob(d,c.bind(this));else{for(g=r.canvas.edges,i=this.edgesOnScreen,o=0,s=i.length;s>o;o++)l=i[o],(g[l.type||this.settings(t,"defaultEdgeType")]||g.def)(l,v.nodes(l.source),v.nodes(l.target),this.contexts.edges,T);if(A)for(g=r.canvas.edges.labels,i=this.edgesOnScreen,o=0,s=i.length;s>o;o++)i[o].hidden||(g[i[o].type||this.settings(t,"defaultEdgeType")]||g.def)(i[o],v.nodes(i[o].source),v.nodes(i[o].target),this.contexts.labels,T)}}if(w)for(g=r.canvas.nodes,i=this.nodesOnScreen,o=0,s=i.length;s>o;o++)i[o].hidden||(g[i[o].type||this.settings(t,"defaultNodeType")]||g.def)(i[o],this.contexts.nodes,T);if(E)for(g=r.canvas.labels,i=this.nodesOnScreen,o=0,s=i.length;s>o;o++)i[o].hidden||(g[i[o].type||this.settings(t,"defaultNodeType")]||g.def)(i[o],this.contexts.labels,T);return this.dispatchEvent("render"),this},r.renderers.canvas.prototype.initDOM=function(e,t){var i=document.createElement(e);i.style.position="absolute",i.setAttribute("class","sigma-"+t),this.domElements[t]=i,this.container.appendChild(i),"canvas"===e.toLowerCase()&&(this.contexts[t]=i.getContext("2d"))},r.renderers.canvas.prototype.resize=function(t,i){var n,o=this.width,a=this.height,s=r.utils.getPixelRatio();if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),o!==this.width||a!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=i+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.domElements[n].setAttribute("width",t*s+"px"),this.domElements[n].setAttribute("height",i*s+"px"),1!==s&&this.contexts[n].scale(s,s));return this},r.renderers.canvas.prototype.clear=function(){for(var e in this.contexts)this.contexts[e].clearRect(0,0,this.width,this.height);return this},r.renderers.canvas.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();delete this.captors;for(e in this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},r.utils.pkg("sigma.canvas.nodes"),r.utils.pkg("sigma.canvas.edges"),r.utils.pkg("sigma.canvas.labels")}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.renderers"),r.renderers.webgl=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.webgl: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var o,a,s,l;for(r.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:r.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(n,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=this.options.captors||[r.captors.mouse,r.captors.touch],o=0,a=s.length;a>o;o++)l="function"==typeof s[o]?s[o]:r.captors[s[o]],this.captors.push(new l(this.domElements.mouse,this.camera,this.settings));r.misc.bindEvents.call(this,this.camera.prefix),r.misc.drawHovers.call(this,this.camera.prefix),this.resize()},r.renderers.webgl.prototype.process=function(){var e,t,i,n,o,a,s=this.graph,l=r.utils.extend(l,this.options),d=this.settings(l,"defaultEdgeType"),u=this.settings(l,"defaultNodeType");for(n in this.nodeFloatArrays)delete this.nodeFloatArrays[n];for(n in this.edgeFloatArrays)delete this.edgeFloatArrays[n];for(n in this.edgeIndicesArrays)delete this.edgeIndicesArrays[n];for(e=s.edges(),t=0,i=e.length;i>t;t++)o=e[t].type||d,n=o&&r.webgl.edges[o]?o:"def",this.edgeFloatArrays[n]||(this.edgeFloatArrays[n]={edges:[]}),this.edgeFloatArrays[n].edges.push(e[t]);for(e=s.nodes(),t=0,i=e.length;i>t;t++)o=e[t].type||u,n=o&&r.webgl.nodes[o]?o:"def",this.nodeFloatArrays[n]||(this.nodeFloatArrays[n]={nodes:[]}),this.nodeFloatArrays[n].nodes.push(e[t]);for(n in this.edgeFloatArrays){for(a=r.webgl.edges[n],e=this.edgeFloatArrays[n].edges,this.edgeFloatArrays[n].array=new Float32Array(e.length*a.POINTS*a.ATTRIBUTES),t=0,i=e.length;i>t;t++)e[t].hidden||s.nodes(e[t].source).hidden||s.nodes(e[t].target).hidden||a.addEdge(e[t],s.nodes(e[t].source),s.nodes(e[t].target),this.edgeFloatArrays[n].array,t*a.POINTS*a.ATTRIBUTES,l.prefix,this.settings);"function"==typeof a.computeIndices&&(this.edgeIndicesArrays[n]=a.computeIndices(this.edgeFloatArrays[n].array))}for(n in this.nodeFloatArrays)for(a=r.webgl.nodes[n],e=this.nodeFloatArrays[n].nodes,this.nodeFloatArrays[n].array=new Float32Array(e.length*a.POINTS*a.ATTRIBUTES),t=0,i=e.length;i>t;t++)this.nodeFloatArrays[n].array||(this.nodeFloatArrays[n].array=new Float32Array(e.length*a.POINTS*a.ATTRIBUTES)),e[t].hidden||a.addNode(e[t],this.nodeFloatArrays[n].array,t*a.POINTS*a.ATTRIBUTES,l.prefix,this.settings);return this},r.renderers.webgl.prototype.render=function(t){var i,o,a,s,l,d,u=this,c=(this.graph,this.contexts.nodes),h=this.contexts.edges,f=this.camera.getMatrix(),g=r.utils.extend(t,this.options),m=this.settings(g,"drawLabels"),p=this.settings(g,"drawEdges"),y=this.settings(g,"drawNodes");this.resize(!1),this.settings(g,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.clear(),f=r.utils.matrices.multiply(f,r.utils.matrices.translation(this.width/2,this.height/2));for(s in this.jobs)n.hasJob(s)&&n.killJob(s);if(p)if(this.settings(g,"batchEdgesDrawing"))(function(){var e,t,i,o,a,s,l,d,u,c;i="edges_"+this.conradId,c=this.settings(g,"webglEdgesBatchSize"),e=Object.keys(this.edgeFloatArrays),e.length&&(t=0,u=r.webgl.edges[e[t]],a=this.edgeFloatArrays[e[t]].array,d=this.edgeIndicesArrays[e[t]],l=0,s=Math.min(l+c*u.POINTS,a.length/u.ATTRIBUTES),o=function(){return this.edgePrograms[e[t]]||(this.edgePrograms[e[t]]=u.initProgram(h)),s>l&&(h.useProgram(this.edgePrograms[e[t]]),u.render(h,this.edgePrograms[e[t]],a,{settings:this.settings,matrix:f,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(g,"webglOversamplingRatio"),start:l,count:s-l,indicesData:d})),s>=a.length/u.ATTRIBUTES&&t===e.length-1?(delete this.jobs[i],!1):(s>=a.length/u.ATTRIBUTES?(t++,a=this.edgeFloatArrays[e[t]].array,u=r.webgl.edges[e[t]],l=0,s=Math.min(l+c*u.POINTS,a.length/u.ATTRIBUTES)):(l=s,s=Math.min(l+c*u.POINTS,a.length/u.ATTRIBUTES)),!0)},this.jobs[i]=o,n.addJob(i,o.bind(this)))}).call(this);else for(s in this.edgeFloatArrays)d=r.webgl.edges[s],this.edgePrograms[s]||(this.edgePrograms[s]=d.initProgram(h)),this.edgeFloatArrays[s]&&(h.useProgram(this.edgePrograms[s]),d.render(h,this.edgePrograms[s],this.edgeFloatArrays[s].array,{settings:this.settings,matrix:f,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(g,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[s]}));if(y){c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),c.enable(c.BLEND);for(s in this.nodeFloatArrays)d=r.webgl.nodes[s],this.nodePrograms[s]||(this.nodePrograms[s]=d.initProgram(c)),this.nodeFloatArrays[s]&&(c.useProgram(this.nodePrograms[s]),
d.render(c,this.nodePrograms[s],this.nodeFloatArrays[s].array,{settings:this.settings,matrix:f,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(g,"webglOversamplingRatio")}))}if(m)for(i=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(e,e,{nodes:i,edges:[],width:this.width,height:this.height}),l=function(e){return u.settings({prefix:u.camera.prefix},e)},o=0,a=i.length;a>o;o++)i[o].hidden||(r.canvas.labels[i[o].type||this.settings(g,"defaultNodeType")]||r.canvas.labels.def)(i[o],this.contexts.labels,l);return this.dispatchEvent("render"),this},r.renderers.webgl.prototype.initDOM=function(e,t,i){var r=document.createElement(e),n=this;r.style.position="absolute",r.setAttribute("class","sigma-"+t),this.domElements[t]=r,this.container.appendChild(r),"canvas"===e.toLowerCase()&&(this.contexts[t]=r.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),i&&(r.addEventListener("webglcontextlost",function(e){e.preventDefault()},!1),r.addEventListener("webglcontextrestored",function(){n.render()},!1)))},r.renderers.webgl.prototype.resize=function(t,i){var n,o=this.width,a=this.height,s=r.utils.getPixelRatio();if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),o!==this.width||a!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=i+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.contexts[n]&&this.contexts[n].scale?(this.domElements[n].setAttribute("width",t*s+"px"),this.domElements[n].setAttribute("height",i*s+"px"),1!==s&&this.contexts[n].scale(s,s)):(this.domElements[n].setAttribute("width",t*this.settings("webglOversamplingRatio")+"px"),this.domElements[n].setAttribute("height",i*this.settings("webglOversamplingRatio")+"px")));for(n in this.contexts)this.contexts[n]&&this.contexts[n].viewport&&this.contexts[n].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},r.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},r.renderers.webgl.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();delete this.captors;for(e in this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},r.utils.pkg("sigma.webgl.nodes"),r.utils.pkg("sigma.webgl.edges"),r.utils.pkg("sigma.canvas.labels")}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";if("undefined"==typeof n)throw"conrad is not declared";r.utils.pkg("sigma.renderers"),r.renderers.svg=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.svg: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var o,a,s,l,d=this;for(r.classes.dispatcher.extend(this),this.graph=e,this.camera=t,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+r.utils.id()+":",this.initDOM("svg"),this.captors=[],s=this.options.captors||[r.captors.mouse,r.captors.touch],o=0,a=s.length;a>o;o++)l="function"==typeof s[o]?s[o]:r.captors[s[o]],this.captors.push(new l(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){d.resize()}),r.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},r.renderers.svg.prototype.render=function(t){t=t||{};var i,n,o,a,s,l,d,u,c,h={},f=this.graph,g=this.graph.nodes,m=(this.options.prefix||"",this.settings(t,"drawEdges")),p=this.settings(t,"drawNodes"),y=(this.settings(t,"drawLabels"),this.settings.embedObjects(t,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(m=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,n=0,a=i.length;a>n;n++)h[i[n].id]=i[n];for(i=f.edges(),n=0,a=i.length;a>n;n++)s=i[n],!h[s.source]&&!h[s.target]||s.hidden||g(s.source).hidden||g(s.target).hidden||this.edgesOnScreen.push(s);if(u=r.svg.nodes,c=r.svg.labels,p)for(i=this.nodesOnScreen,n=0,a=i.length;a>n;n++)i[n].hidden||this.domElements.nodes[i[n].id]||(o=(u[i[n].type]||u.def).create(i[n],y),this.domElements.nodes[i[n].id]=o,this.domElements.groups.nodes.appendChild(o),o=(c[i[n].type]||c.def).create(i[n],y),this.domElements.labels[i[n].id]=o,this.domElements.groups.labels.appendChild(o));if(p)for(i=this.nodesOnScreen,n=0,a=i.length;a>n;n++)i[n].hidden||((u[i[n].type]||u.def).update(i[n],this.domElements.nodes[i[n].id],y),(c[i[n].type]||c.def).update(i[n],this.domElements.labels[i[n].id],y));if(u=r.svg.edges,m)for(i=this.edgesOnScreen,n=0,a=i.length;a>n;n++)this.domElements.edges[i[n].id]||(l=g(i[n].source),d=g(i[n].target),o=(u[i[n].type]||u.def).create(i[n],l,d,y),this.domElements.edges[i[n].id]=o,this.domElements.groups.edges.appendChild(o));if(m)for(i=this.edgesOnScreen,n=0,a=i.length;a>n;n++)l=g(i[n].source),d=g(i[n].target),(u[i[n].type]||u.def).update(i[n],this.domElements.edges[i[n].id],l,d,y);return this.dispatchEvent("render"),this},r.renderers.svg.prototype.initDOM=function(e){var t,i,r,n=document.createElementNS(this.settings("xmlns"),e),o=this.settings("classPrefix");n.style.position="absolute",n.setAttribute("class",o+"-svg"),n.setAttribute("xmlns",this.settings("xmlns")),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n.setAttribute("version","1.1");var a=document.createElement("canvas");a.setAttribute("class",o+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(n);var s=["edges","nodes","labels","hovers"];for(r=0,i=s.length;i>r;r++)t=document.createElementNS(this.settings("xmlns"),"g"),t.setAttributeNS(null,"id",o+"-group-"+s[r]),t.setAttributeNS(null,"class",o+"-group"),this.domElements.groups[s[r]]=this.domElements.graph.appendChild(t);this.container.appendChild(a),this.measurementCanvas=a.getContext("2d")},r.renderers.svg.prototype.hideDOMElements=function(e){var t,i;for(i in e)t=e[i],r.svg.utils.hide(t);return this},r.renderers.svg.prototype.bindHovers=function(e){function t(t){var i=t.data.node,r=s.settings.embedObjects({prefix:e});if(r("enableHovering")){var n=(a[i.type]||a.def).create(i,s.domElements.nodes[i.id],s.measurementCanvas,r);s.domElements.hovers[i.id]=n,s.domElements.groups.hovers.appendChild(n),o=i}}function i(t){var i=t.data.node,r=s.settings.embedObjects({prefix:e});r("enableHovering")&&(s.domElements.groups.hovers.removeChild(s.domElements.hovers[i.id]),o=null,delete s.domElements.hovers[i.id],s.domElements.groups.nodes.appendChild(s.domElements.nodes[i.id]))}function n(){if(o){var t=s.settings.embedObjects({prefix:e});s.domElements.groups.hovers.removeChild(s.domElements.hovers[o.id]),delete s.domElements.hovers[o.id];var i=(a[o.type]||a.def).create(o,s.domElements.nodes[o.id],s.measurementCanvas,t);s.domElements.hovers[o.id]=i,s.domElements.groups.hovers.appendChild(i)}}var o,a=r.svg.hovers,s=this;this.bind("overNode",t),this.bind("outNode",i),this.bind("render",n)},r.renderers.svg.prototype.resize=function(t,i){var r=this.width,n=this.height,o=1;return t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),(r!==this.width||n!==this.height)&&(this.domElements.graph.style.width=t+"px",this.domElements.graph.style.height=i+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",t*o),this.domElements.graph.setAttribute("height",i*o))),this},r.utils.pkg("sigma.svg.nodes"),r.utils.pkg("sigma.svg.edges"),r.utils.pkg("sigma.svg.labels")}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.renderers");var t,i=!!e.WebGLRenderingContext;if(i){t=document.createElement("canvas");try{i=!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(e){i=!1}}r.renderers.def=i?r.renderers.webgl:r.renderers.canvas}(this),function(){"use strict";r.utils.pkg("sigma.webgl.nodes"),r.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(e,t,i,n,o){var a=r.utils.floatColor(e.color||o("defaultNodeColor"));t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=a,t[i++]=0,t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=a,t[i++]=2*Math.PI/3,t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=a,t[i++]=4*Math.PI/3},render:function(e,t,i,r){var n,o=e.getAttribLocation(t,"a_position"),a=e.getAttribLocation(t,"a_size"),s=e.getAttribLocation(t,"a_color"),l=e.getAttribLocation(t,"a_angle"),d=e.getUniformLocation(t,"u_resolution"),u=e.getUniformLocation(t,"u_matrix"),c=e.getUniformLocation(t,"u_ratio"),h=e.getUniformLocation(t,"u_scale");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(d,r.width,r.height),e.uniform1f(c,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),e.uniform1f(h,r.scalingRatio),e.uniformMatrix3fv(u,!1,r.matrix),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(s),e.enableVertexAttribArray(l),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.drawArrays(e.TRIANGLES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=r.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=r.utils.loadShader(e,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),e.FRAGMENT_SHADER),n=r.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";r.utils.pkg("sigma.webgl.nodes"),r.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(e,t,i,n,o){t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=r.utils.floatColor(e.color||o("defaultNodeColor"))},render:function(e,t,i,r){var n,o=e.getAttribLocation(t,"a_position"),a=e.getAttribLocation(t,"a_size"),s=e.getAttribLocation(t,"a_color"),l=e.getUniformLocation(t,"u_resolution"),d=e.getUniformLocation(t,"u_matrix"),u=e.getUniformLocation(t,"u_ratio"),c=e.getUniformLocation(t,"u_scale");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(l,r.width,r.height),e.uniform1f(u,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),e.uniform1f(c,r.scalingRatio),e.uniformMatrix3fv(d,!1,r.matrix),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(s),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=r.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=r.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),e.FRAGMENT_SHADER),n=r.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";r.utils.pkg("sigma.webgl.edges"),r.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(e,t,i,n,o,a,s){var l=(e[a+"size"]||1)/2,d=t[a+"x"],u=t[a+"y"],c=i[a+"x"],h=i[a+"y"],f=e.color;if(!f)switch(s("edgeColor")){case"source":f=t.color||s("defaultNodeColor");break;case"target":f=i.color||s("defaultNodeColor");break;default:f=s("defaultEdgeColor")}f=r.utils.floatColor(f),n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=0,n[o++]=f,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=1,n[o++]=f,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=0,n[o++]=f,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=0,n[o++]=f,n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=1,n[o++]=f,n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=0,n[o++]=f},render:function(e,t,i,n){var o,a=e.getAttribLocation(t,"a_color"),s=e.getAttribLocation(t,"a_position1"),l=e.getAttribLocation(t,"a_position2"),d=e.getAttribLocation(t,"a_thickness"),u=e.getAttribLocation(t,"a_minus"),c=e.getUniformLocation(t,"u_resolution"),h=e.getUniformLocation(t,"u_matrix"),f=e.getUniformLocation(t,"u_matrixHalfPi"),g=e.getUniformLocation(t,"u_matrixHalfPiMinus"),m=e.getUniformLocation(t,"u_ratio"),p=e.getUniformLocation(t,"u_scale");o=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(c,n.width,n.height),e.uniform1f(m,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(p,n.scalingRatio),e.uniformMatrix3fv(h,!1,n.matrix),e.uniformMatrix2fv(f,!1,r.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(g,!1,r.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(a),e.enableVertexAttribArray(s),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.enableVertexAttribArray(u),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(l,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.drawArrays(e.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=r.utils.loadShader(e,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=r.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=r.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";r.utils.pkg("sigma.webgl.edges"),r.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(e,t,i,n,o,a,s){var l=((e[a+"size"]||1)/2,t[a+"x"]),d=t[a+"y"],u=i[a+"x"],c=i[a+"y"],h=e.color;if(!h)switch(s("edgeColor")){case"source":h=t.color||s("defaultNodeColor");break;case"target":h=i.color||s("defaultNodeColor");break;default:h=s("defaultEdgeColor")}h=r.utils.floatColor(h),n[o++]=l,n[o++]=d,n[o++]=h,n[o++]=u,n[o++]=c,n[o++]=h},render:function(e,t,i,r){var n,o=e.getAttribLocation(t,"a_color"),a=e.getAttribLocation(t,"a_position"),s=e.getUniformLocation(t,"u_resolution"),l=e.getUniformLocation(t,"u_matrix");n=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(s,r.width,r.height),e.uniformMatrix3fv(l,!1,r.matrix),e.enableVertexAttribArray(a),e.enableVertexAttribArray(o),e.vertexAttribPointer(a,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.lineWidth(3),e.drawArrays(e.LINES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=r.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=r.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=r.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";r.utils.pkg("sigma.webgl.edges"),r.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(e,t,i,n,o,a,s){var l=(e[a+"size"]||1)/2,d=t[a+"x"],u=t[a+"y"],c=i[a+"x"],h=i[a+"y"],f=i[a+"size"],g=e.color;if(!g)switch(s("edgeColor")){case"source":g=t.color||s("defaultNodeColor");break;case"target":g=i.color||s("defaultNodeColor");break;default:g=s("defaultEdgeColor")}g=r.utils.floatColor(g),n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=f,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=1,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=f,n[o++]=0,n[o++]=1,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=d,n[o++]=u,n[o++]=c,n[o++]=h,n[o++]=l,n[o++]=f,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=0,n[o++]=1,n[o++]=-1,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=0,n[o++]=1,n[o++]=0,n[o++]=g,n[o++]=c,n[o++]=h,n[o++]=d,n[o++]=u,n[o++]=l,n[o++]=f,n[o++]=1,n[o++]=0,n[o++]=1,n[o++]=1,n[o++]=g},render:function(e,t,i,n){var o,a=e.getAttribLocation(t,"a_pos1"),s=e.getAttribLocation(t,"a_pos2"),l=e.getAttribLocation(t,"a_thickness"),d=e.getAttribLocation(t,"a_tSize"),u=e.getAttribLocation(t,"a_delay"),c=e.getAttribLocation(t,"a_minus"),h=e.getAttribLocation(t,"a_head"),f=e.getAttribLocation(t,"a_headPosition"),g=e.getAttribLocation(t,"a_color"),m=e.getUniformLocation(t,"u_resolution"),p=e.getUniformLocation(t,"u_matrix"),y=e.getUniformLocation(t,"u_matrixHalfPi"),v=e.getUniformLocation(t,"u_matrixHalfPiMinus"),x=e.getUniformLocation(t,"u_ratio"),b=e.getUniformLocation(t,"u_nodeRatio"),w=e.getUniformLocation(t,"u_arrowHead"),E=e.getUniformLocation(t,"u_scale");o=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(m,n.width,n.height),e.uniform1f(x,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(b,Math.pow(n.ratio,n.settings("nodesPowRatio"))/n.ratio),e.uniform1f(w,5),e.uniform1f(E,n.scalingRatio),e.uniformMatrix3fv(p,!1,n.matrix),e.uniformMatrix2fv(y,!1,r.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(v,!1,r.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(a),e.enableVertexAttribArray(s),e.enableVertexAttribArray(l),e.enableVertexAttribArray(d),e.enableVertexAttribArray(u),e.enableVertexAttribArray(c),e.enableVertexAttribArray(h),e.enableVertexAttribArray(f),e.enableVertexAttribArray(g),e.vertexAttribPointer(a,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.vertexAttribPointer(c,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),e.vertexAttribPointer(h,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),e.vertexAttribPointer(f,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),e.vertexAttribPointer(g,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),e.drawArrays(e.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=r.utils.loadShader(e,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=r.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=r.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.canvas.labels"),r.canvas.labels.def=function(e,t,i){var r,n=i("prefix")||"",o=e[n+"size"];o<i("labelThreshold")||e.label&&"string"==typeof e.label&&(r="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*o,t.font=(i("fontStyle")?i("fontStyle")+" ":"")+r+"px "+i("font"),t.fillStyle="node"===i("labelColor")?e.labelColor||e.color||i("defaultNodeColor"):i("defaultLabelColor"),t.fillText(e.label,Math.round(e[n+"x"]+o+3),Math.round(e[n+"y"]+r/3)))}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.canvas.hovers"),r.canvas.hovers.def=function(e,t,i){var n,o,a,s,l,d=i("hoverFontStyle")||i("fontStyle"),u=i("prefix")||"",c=e[u+"size"],h="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*c;t.font=(d?d+" ":"")+h+"px "+(i("hoverFont")||i("font")),t.beginPath(),t.fillStyle="node"===i("labelHoverBGColor")?e.color||i("defaultNodeColor"):i("defaultHoverLabelBGColor"),e.label&&i("labelHoverShadow")&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor=i("labelHoverShadowColor")),e.label&&"string"==typeof e.label&&(n=Math.round(e[u+"x"]-h/2-2),o=Math.round(e[u+"y"]-h/2-2),a=Math.round(t.measureText(e.label).width+h/2+c+7),s=Math.round(h+4),l=Math.round(h/2+2),t.moveTo(n,o+l),t.arcTo(n,o,n+l,o,l),t.lineTo(n+a,o),t.lineTo(n+a,o+s),t.lineTo(n+l,o+s),t.arcTo(n,o+s,n,o+s-l,l),t.lineTo(n,o+l),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i("borderSize")>0&&(t.beginPath(),t.fillStyle="node"===i("nodeBorderColor")?e.color||i("defaultNodeColor"):i("defaultNodeBorderColor"),t.arc(e[u+"x"],e[u+"y"],c+i("borderSize"),0,2*Math.PI,!0),t.closePath(),t.fill());var f=r.canvas.nodes[e.type]||r.canvas.nodes.def;f(e,t,i),e.label&&"string"==typeof e.label&&(t.fillStyle="node"===i("labelHoverColor")?e.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),t.fillText(e.label,Math.round(e[u+"x"]+c+3),Math.round(e[u+"y"]+h/3)))}}.call(this),function(){"use strict";r.utils.pkg("sigma.canvas.nodes"),r.canvas.nodes.def=function(e,t,i){var r=i("prefix")||"",n=e.opacity||1;t.globalAlpha=n,t.fillStyle=e.color||i("defaultNodeColor"),t.beginPath(),t.arc(e[r+"x"],e[r+"y"],e[r+"size"],0,2*Math.PI,!0),t.closePath(),t.fill(),t.globalAlpha=1}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edges"),r.canvas.edges.def=function(e,t,i,r,n){var o=e.color,a=n("prefix")||"",s=e[a+"size"]||1,l=n("edgeColor"),d=n("defaultNodeColor"),u=n("defaultEdgeColor");if(!o)switch(l){case"source":o=t.color||d;break;case"target":o=i.color||d;break;default:o=u}r.strokeStyle=o,r.lineWidth=s,r.beginPath(),r.moveTo(t[a+"x"],t[a+"y"]),r.lineTo(i[a+"x"],i[a+"y"]),r.stroke()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edges"),r.canvas.edges.curve=function(e,t,i,n,o){var a=e.color,s=o("prefix")||"",l=e[s+"size"]||1,d=o("edgeColor"),u=o("defaultNodeColor"),c=o("defaultEdgeColor"),h={},f=t[s+"size"],g=t[s+"x"],m=t[s+"y"],p=i[s+"x"],y=i[s+"y"];if(h=t.id===i.id?r.utils.getSelfLoopControlPoints(g,m,f):r.utils.getQuadraticControlPoint(g,m,p,y),!a)switch(d){case"source":a=t.color||u;break;case"target":a=i.color||u;break;default:a=c}n.strokeStyle=a,n.lineWidth=l,n.beginPath(),n.moveTo(g,m),t.id===i.id?n.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,p,y):n.quadraticCurveTo(h.x,h.y,p,y),n.stroke()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edges"),r.canvas.edges.curvedArrow=function(e,t,i,n,o){var a,s,l,d,u,c=e.color,h=o("prefix")||"",f=o("edgeColor"),g=o("defaultNodeColor"),m=o("defaultEdgeColor"),p={},y=e[h+"size"]||1,v=i[h+"size"],x=t[h+"x"],b=t[h+"y"],w=i[h+"x"],E=i[h+"y"],A=Math.max(2.5*y,o("minArrowSize"));if(p=t.id===i.id?r.utils.getSelfLoopControlPoints(x,b,v):r.utils.getQuadraticControlPoint(x,b,w,E),t.id===i.id?(a=Math.sqrt(Math.pow(w-p.x1,2)+Math.pow(E-p.y1,2)),s=p.x1+(w-p.x1)*(a-A-v)/a,l=p.y1+(E-p.y1)*(a-A-v)/a,d=(w-p.x1)*A/a,u=(E-p.y1)*A/a):(a=Math.sqrt(Math.pow(w-p.x,2)+Math.pow(E-p.y,2)),s=p.x+(w-p.x)*(a-A-v)/a,l=p.y+(E-p.y)*(a-A-v)/a,d=(w-p.x)*A/a,u=(E-p.y)*A/a),!c)switch(f){case"source":c=t.color||g;break;case"target":c=i.color||g;break;default:c=m}n.strokeStyle=c,n.lineWidth=y,n.beginPath(),n.moveTo(x,b),t.id===i.id?n.bezierCurveTo(p.x2,p.y2,p.x1,p.y1,s,l):n.quadraticCurveTo(p.x,p.y,s,l),n.stroke(),n.fillStyle=c,n.beginPath(),n.moveTo(s+d,l+u),n.lineTo(s+.6*u,l-.6*d),n.lineTo(s-.6*u,l+.6*d),n.lineTo(s+d,l+u),n.closePath(),n.fill()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edges"),r.canvas.edges.arrow=function(e,t,i,r,n){var o=e.color,a=n("prefix")||"",s=n("edgeColor"),l=n("defaultNodeColor"),d=n("defaultEdgeColor"),u=e[a+"size"]||1,c=i[a+"size"],h=t[a+"x"],f=t[a+"y"],g=i[a+"x"],m=i[a+"y"],p=Math.max(2.5*u,n("minArrowSize")),y=Math.sqrt(Math.pow(g-h,2)+Math.pow(m-f,2)),v=h+(g-h)*(y-p-c)/y,x=f+(m-f)*(y-p-c)/y,b=(g-h)*p/y,w=(m-f)*p/y;if(!o)switch(s){case"source":o=t.color||l;break;case"target":o=i.color||l;break;default:o=d}r.strokeStyle=o,r.lineWidth=u,r.beginPath(),r.moveTo(h,f),r.lineTo(v,x),r.stroke(),r.fillStyle=o,r.beginPath(),r.moveTo(v+b,x+w),r.lineTo(v+.6*w,x-.6*b),r.lineTo(v-.6*w,x+.6*b),r.lineTo(v+b,x+w),r.closePath(),r.fill()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edgehovers"),r.canvas.edgehovers.def=function(e,t,i,r,n){var o=e.color,a=n("prefix")||"",s=e[a+"size"]||1,l=n("edgeColor"),d=n("defaultNodeColor"),u=n("defaultEdgeColor");if(!o)switch(l){case"source":o=t.color||d;break;case"target":o=i.color||d;break;default:o=u}o="edge"===n("edgeHoverColor")?e.hover_color||o:e.hover_color||n("defaultEdgeHoverColor")||o,s*=n("edgeHoverSizeRatio"),r.strokeStyle=o,r.lineWidth=s,r.beginPath(),r.moveTo(t[a+"x"],t[a+"y"]),r.lineTo(i[a+"x"],i[a+"y"]),r.stroke()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edgehovers"),r.canvas.edgehovers.curve=function(e,t,i,n,o){var a=e.color,s=o("prefix")||"",l=o("edgeHoverSizeRatio")*(e[s+"size"]||1),d=o("edgeColor"),u=o("defaultNodeColor"),c=o("defaultEdgeColor"),h={},f=t[s+"size"],g=t[s+"x"],m=t[s+"y"],p=i[s+"x"],y=i[s+"y"];if(h=t.id===i.id?r.utils.getSelfLoopControlPoints(g,m,f):r.utils.getQuadraticControlPoint(g,m,p,y),!a)switch(d){case"source":a=t.color||u;break;case"target":a=i.color||u;break;default:a=c}a="edge"===o("edgeHoverColor")?e.hover_color||a:e.hover_color||o("defaultEdgeHoverColor")||a,n.strokeStyle=a,n.lineWidth=l,n.beginPath(),n.moveTo(g,m),t.id===i.id?n.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,p,y):n.quadraticCurveTo(h.x,h.y,p,y),n.stroke()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edgehovers"),r.canvas.edgehovers.arrow=function(e,t,i,r,n){var o=e.color,a=n("prefix")||"",s=n("edgeColor"),l=n("defaultNodeColor"),d=n("defaultEdgeColor"),u=e[a+"size"]||1,c=i[a+"size"],h=t[a+"x"],f=t[a+"y"],g=i[a+"x"],m=i[a+"y"];u=e.hover?n("edgeHoverSizeRatio")*u:u;var p=2.5*u,y=Math.sqrt(Math.pow(g-h,2)+Math.pow(m-f,2)),v=h+(g-h)*(y-p-c)/y,x=f+(m-f)*(y-p-c)/y,b=(g-h)*p/y,w=(m-f)*p/y;if(!o)switch(s){case"source":o=t.color||l;break;case"target":o=i.color||l;break;default:o=d}o="edge"===n("edgeHoverColor")?e.hover_color||o:e.hover_color||n("defaultEdgeHoverColor")||o,r.strokeStyle=o,r.lineWidth=u,r.beginPath(),r.moveTo(h,f),r.lineTo(v,x),r.stroke(),r.fillStyle=o,
r.beginPath(),r.moveTo(v+b,x+w),r.lineTo(v+.6*w,x-.6*b),r.lineTo(v-.6*w,x+.6*b),r.lineTo(v+b,x+w),r.closePath(),r.fill()}}(),function(){"use strict";r.utils.pkg("sigma.canvas.edgehovers"),r.canvas.edgehovers.curvedArrow=function(e,t,i,n,o){var a,s,l,d,u,c,h=e.color,f=o("prefix")||"",g=o("edgeColor"),m=o("defaultNodeColor"),p=o("defaultEdgeColor"),y={},v=o("edgeHoverSizeRatio")*(e[f+"size"]||1),x=i[f+"size"],b=t[f+"x"],w=t[f+"y"],E=i[f+"x"],A=i[f+"y"];if(y=t.id===i.id?r.utils.getSelfLoopControlPoints(b,w,x):r.utils.getQuadraticControlPoint(b,w,E,A),t.id===i.id?(a=Math.sqrt(Math.pow(E-y.x1,2)+Math.pow(A-y.y1,2)),s=2.5*v,l=y.x1+(E-y.x1)*(a-s-x)/a,d=y.y1+(A-y.y1)*(a-s-x)/a,u=(E-y.x1)*s/a,c=(A-y.y1)*s/a):(a=Math.sqrt(Math.pow(E-y.x,2)+Math.pow(A-y.y,2)),s=2.5*v,l=y.x+(E-y.x)*(a-s-x)/a,d=y.y+(A-y.y)*(a-s-x)/a,u=(E-y.x)*s/a,c=(A-y.y)*s/a),!h)switch(g){case"source":h=t.color||m;break;case"target":h=i.color||m;break;default:h=p}h="edge"===o("edgeHoverColor")?e.hover_color||h:e.hover_color||o("defaultEdgeHoverColor")||h,n.strokeStyle=h,n.lineWidth=v,n.beginPath(),n.moveTo(b,w),t.id===i.id?n.bezierCurveTo(y.x2,y.y2,y.x1,y.y1,l,d):n.quadraticCurveTo(y.x,y.y,l,d),n.stroke(),n.fillStyle=h,n.beginPath(),n.moveTo(l+u,d+c),n.lineTo(l+.6*c,d-.6*u),n.lineTo(l-.6*c,d+.6*u),n.lineTo(l+u,d+c),n.closePath(),n.fill()}}(),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.canvas.extremities"),r.canvas.extremities.def=function(e,t,i,n,o){(r.canvas.hovers[t.type]||r.canvas.hovers.def)(t,n,o),(r.canvas.hovers[i.type]||r.canvas.hovers.def)(i,n,o)}}.call(this),function(){"use strict";r.utils.pkg("sigma.svg.utils"),r.svg.utils={show:function(e){return e.style.display="",this},hide:function(e){return e.style.display="none",this}}}(),function(){"use strict";r.utils.pkg("sigma.svg.nodes"),r.svg.nodes.def={create:function(e,t){var i=(t("prefix")||"",document.createElementNS(t("xmlns"),"circle"));return i.setAttributeNS(null,"data-node-id",e.id),i.setAttributeNS(null,"class",t("classPrefix")+"-node"),i.setAttributeNS(null,"fill",e.color||t("defaultNodeColor")),i},update:function(e,t,i){var r=i("prefix")||"";return t.setAttributeNS(null,"cx",e[r+"x"]),t.setAttributeNS(null,"cy",e[r+"y"]),t.setAttributeNS(null,"r",e[r+"size"]),i("freeStyle")||t.setAttributeNS(null,"fill",e.color||i("defaultNodeColor")),t.style.display="",this}}}(),function(){"use strict";r.utils.pkg("sigma.svg.edges"),r.svg.edges.def={create:function(e,t,i,r){var n=e.color,o=(r("prefix")||"",r("edgeColor")),a=r("defaultNodeColor"),s=r("defaultEdgeColor");if(!n)switch(o){case"source":n=t.color||a;break;case"target":n=i.color||a;break;default:n=s}var l=document.createElementNS(r("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",r("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",n),l},update:function(e,t,i,r,n){var o=n("prefix")||"";return t.setAttributeNS(null,"stroke-width",e[o+"size"]||1),t.setAttributeNS(null,"x1",i[o+"x"]),t.setAttributeNS(null,"y1",i[o+"y"]),t.setAttributeNS(null,"x2",r[o+"x"]),t.setAttributeNS(null,"y2",r[o+"y"]),t.style.display="",this}}}(),function(){"use strict";r.utils.pkg("sigma.svg.edges"),r.svg.edges.curve={create:function(e,t,i,r){var n=e.color,o=(r("prefix")||"",r("edgeColor")),a=r("defaultNodeColor"),s=r("defaultEdgeColor");if(!n)switch(o){case"source":n=t.color||a;break;case"target":n=i.color||a;break;default:n=s}var l=document.createElementNS(r("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",r("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",n),l},update:function(e,t,i,r,n){var o=n("prefix")||"";t.setAttributeNS(null,"stroke-width",e[o+"size"]||1);var a=(i[o+"x"]+r[o+"x"])/2+(r[o+"y"]-i[o+"y"])/4,s=(i[o+"y"]+r[o+"y"])/2+(i[o+"x"]-r[o+"x"])/4,l="M"+i[o+"x"]+","+i[o+"y"]+" Q"+a+","+s+" "+r[o+"x"]+","+r[o+"y"];return t.setAttributeNS(null,"d",l),t.setAttributeNS(null,"fill","none"),t.style.display="",this}}}(),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.svg.labels"),r.svg.labels.def={create:function(e,t){var i=t("prefix")||"",r=e[i+"size"],n=document.createElementNS(t("xmlns"),"text"),o="fixed"===t("labelSize")?t("defaultLabelSize"):t("labelSizeRatio")*r,a="node"===t("labelColor")?e.color||t("defaultNodeColor"):t("defaultLabelColor");return n.setAttributeNS(null,"data-label-target",e.id),n.setAttributeNS(null,"class",t("classPrefix")+"-label"),n.setAttributeNS(null,"font-size",o),n.setAttributeNS(null,"font-family",t("font")),n.setAttributeNS(null,"fill",a),n.innerHTML=e.label,n.textContent=e.label,n},update:function(e,t,i){var r=i("prefix")||"",n=e[r+"size"],o="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*n;return!i("forceLabels")&&n<i("labelThreshold")||"string"!=typeof e.label?void 0:(t.setAttributeNS(null,"x",Math.round(e[r+"x"]+n+3)),t.setAttributeNS(null,"y",Math.round(e[r+"y"]+o/3)),t.style.display="",this)}}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.svg.hovers"),r.svg.hovers.def={create:function(e,t,i,r){var n,o,a,s,l,d=(r("hoverFontStyle")||r("fontStyle"),r("prefix")||""),u=e[d+"size"],c="fixed"===r("labelSize")?r("defaultLabelSize"):r("labelSizeRatio")*u,h="node"===r("labelHoverColor")?e.color||r("defaultNodeColor"):r("defaultLabelHoverColor"),f=document.createElementNS(r("xmlns"),"g"),g=document.createElementNS(r("xmlns"),"rect"),m=document.createElementNS(r("xmlns"),"circle"),p=document.createElementNS(r("xmlns"),"text");return f.setAttributeNS(null,"class",r("classPrefix")+"-hover"),f.setAttributeNS(null,"data-node-id",e.id),"string"==typeof e.label&&(p.innerHTML=e.label,p.textContent=e.label,p.setAttributeNS(null,"class",r("classPrefix")+"-hover-label"),p.setAttributeNS(null,"font-size",c),p.setAttributeNS(null,"font-family",r("font")),p.setAttributeNS(null,"fill",h),p.setAttributeNS(null,"x",Math.round(e[d+"x"]+u+3)),p.setAttributeNS(null,"y",Math.round(e[d+"y"]+c/3)),n=Math.round(e[d+"x"]-c/2-2),o=Math.round(e[d+"y"]-c/2-2),a=Math.round(i.measureText(e.label).width+c/2+u+9),s=Math.round(c+4),l=Math.round(c/2+2),m.setAttributeNS(null,"class",r("classPrefix")+"-hover-area"),m.setAttributeNS(null,"fill","#fff"),m.setAttributeNS(null,"cx",e[d+"x"]),m.setAttributeNS(null,"cy",e[d+"y"]),m.setAttributeNS(null,"r",l),g.setAttributeNS(null,"class",r("classPrefix")+"-hover-area"),g.setAttributeNS(null,"fill","#fff"),g.setAttributeNS(null,"x",e[d+"x"]+l/4),g.setAttributeNS(null,"y",e[d+"y"]-l),g.setAttributeNS(null,"width",a),g.setAttributeNS(null,"height",s)),f.appendChild(m),f.appendChild(g),f.appendChild(p),f.appendChild(t),f}}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.middlewares"),r.utils.pkg("sigma.utils"),r.middlewares.rescale=function(e,t,i){var n,o,a,s,l,d,u,c,h=this.graph.nodes(),f=this.graph.edges(),g=this.settings.embedObjects(i||{}),m=g("bounds")||r.utils.getBoundaries(this.graph,e,!0),p=m.minX,y=m.minY,v=m.maxX,x=m.maxY,b=m.sizeMax,w=m.weightMax,E=g("width")||1,A=g("height")||1,T=g("autoRescale"),_={nodePosition:1,nodeSize:1,edgeSize:1};for(T instanceof Array||(T=["nodePosition","nodeSize","edgeSize"]),n=0,o=T.length;o>n;n++)if(!_[T[n]])throw new Error('The rescale setting "'+T[n]+'" is not recognized.');var S=~T.indexOf("nodePosition"),C=~T.indexOf("nodeSize"),k=~T.indexOf("edgeSize");for(u="outside"===g("scalingMode")?Math.max(E/Math.max(v-p,1),A/Math.max(x-y,1)):Math.min(E/Math.max(v-p,1),A/Math.max(x-y,1)),c=(g("rescaleIgnoreSize")?0:(g("maxNodeSize")||b)/u)+(g("sideMargin")||0),v+=c,p-=c,x+=c,y-=c,u="outside"===g("scalingMode")?Math.max(E/Math.max(v-p,1),A/Math.max(x-y,1)):Math.min(E/Math.max(v-p,1),A/Math.max(x-y,1)),g("maxNodeSize")||g("minNodeSize")?g("maxNodeSize")===g("minNodeSize")?(a=0,s=+g("maxNodeSize")):(a=(g("maxNodeSize")-g("minNodeSize"))/b,s=+g("minNodeSize")):(a=1,s=0),g("maxEdgeSize")||g("minEdgeSize")?g("maxEdgeSize")===g("minEdgeSize")?(l=0,d=+g("minEdgeSize")):(l=(g("maxEdgeSize")-g("minEdgeSize"))/w,d=+g("minEdgeSize")):(l=1,d=0),n=0,o=f.length;o>n;n++)f[n][t+"size"]=f[n][e+"size"]*(k?l:1)+(k?d:0);for(n=0,o=h.length;o>n;n++)h[n][t+"size"]=h[n][e+"size"]*(C?a:1)+(C?s:0),h[n][t+"x"]=(h[n][e+"x"]-(v+p)/2)*(S?u:1),h[n][t+"y"]=(h[n][e+"y"]-(x+y)/2)*(S?u:1)},r.utils.getBoundaries=function(e,t,i){var r,n,o=e.edges(),a=e.nodes(),s=-(1/0),l=-(1/0),d=1/0,u=1/0,c=-(1/0),h=-(1/0);if(i)for(r=0,n=o.length;n>r;r++)s=Math.max(o[r][t+"size"],s);for(r=0,n=a.length;n>r;r++)l=Math.max(a[r][t+"size"],l),c=Math.max(a[r][t+"x"],c),d=Math.min(a[r][t+"x"],d),h=Math.max(a[r][t+"y"],h),u=Math.min(a[r][t+"y"],u);return s=s||1,l=l||1,{weightMax:s,sizeMax:l,minX:d,minY:u,maxX:c,maxY:h}}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.middlewares"),r.middlewares.copy=function(e,t){var i,r,n;if(t+""!=e+""){for(n=this.graph.nodes(),i=0,r=n.length;r>i;i++)n[i][t+"x"]=n[i][e+"x"],n[i][t+"y"]=n[i][e+"y"],n[i][t+"size"]=n[i][e+"size"];for(n=this.graph.edges(),i=0,r=n.length;r>i;i++)n[i][t+"size"]=n[i][e+"size"]}}}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.misc.animation.running");var t=function(){var e=0;return function(){return""+ ++e}}();r.misc.animation.camera=function(i,n,o){if(!(i instanceof r.classes.camera&&"object"==typeof n&&n))throw"animation.camera: Wrong arguments.";if("number"!=typeof n.x&&"number"!=typeof n.y&&"number"!=typeof n.ratio&&"number"!=typeof n.angle)throw"There must be at least one valid coordinate in the given val.";var a,s,l,d,u,c,h=o||{},f=r.utils.dateNow();return c={x:i.x,y:i.y,ratio:i.ratio,angle:i.angle},u=h.duration,d="function"!=typeof h.easing?r.utils.easings[h.easing||"quadraticInOut"]:h.easing,a=function(){var t,o=h.duration?(r.utils.dateNow()-f)/h.duration:1;o>=1?(i.isAnimated=!1,i.goTo({x:n.x!==e?n.x:c.x,y:n.y!==e?n.y:c.y,ratio:n.ratio!==e?n.ratio:c.ratio,angle:n.angle!==e?n.angle:c.angle}),cancelAnimationFrame(s),delete r.misc.animation.running[s],"function"==typeof h.onComplete&&h.onComplete()):(t=d(o),i.isAnimated=!0,i.goTo({x:n.x!==e?c.x+(n.x-c.x)*t:c.x,y:n.y!==e?c.y+(n.y-c.y)*t:c.y,ratio:n.ratio!==e?c.ratio+(n.ratio-c.ratio)*t:c.ratio,angle:n.angle!==e?c.angle+(n.angle-c.angle)*t:c.angle}),"function"==typeof h.onNewFrame&&h.onNewFrame(),l.frameId=requestAnimationFrame(a))},s=t(),l={frameId:requestAnimationFrame(a),target:i,type:"camera",options:h,fn:a},r.misc.animation.running[s]=l,s},r.misc.animation.kill=function(e){if(1!==arguments.length||"number"!=typeof e)throw"animation.kill: Wrong arguments.";var t=r.misc.animation.running[e];return t&&(cancelAnimationFrame(e),delete r.misc.animation.running[t.frameId],"camera"===t.type&&(t.target.isAnimated=!1),"function"==typeof(t.options||{}).onComplete&&t.options.onComplete()),this},r.misc.animation.killAll=function(e){var t,i,n=0,o="string"==typeof e?e:null,a="object"==typeof e?e:null,s=r.misc.animation.running;for(i in s)o&&s[i].type!==o||a&&s[i].target!==a||(t=r.misc.animation.running[i],cancelAnimationFrame(t.frameId),delete r.misc.animation.running[i],"camera"===t.type&&(t.target.isAnimated=!1),n++,"function"==typeof(t.options||{}).onComplete&&t.options.onComplete());return n},r.misc.animation.has=function(e){var t,i="string"==typeof e?e:null,n="object"==typeof e?e:null,o=r.misc.animation.running;for(t in o)if(!(i&&o[t].type!==i||n&&o[t].target!==n))return!0;return!1}}.call(this),function(e){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.misc"),r.misc.bindEvents=function(t){function i(e){e&&(l="x"in e.data?e.data.x:l,d="y"in e.data?e.data.y:d);var i,r,n,o,a,s,c,h,f=[],g=l+u.width/2,m=d+u.height/2,p=u.camera.cameraPosition(l,d),y=u.camera.quadtree.point(p.x,p.y);if(y.length)for(i=0,n=y.length;n>i;i++)if(o=y[i],a=o[t+"x"],s=o[t+"y"],c=o[t+"size"],!o.hidden&&g>a-c&&a+c>g&&m>s-c&&s+c>m&&Math.sqrt(Math.pow(g-a,2)+Math.pow(m-s,2))<c){for(h=!1,r=0;r<f.length;r++)if(o.size>f[r].size){f.splice(r,0,o),h=!0;break}h||f.push(o)}return f}function n(i){function n(e,t){for(v=!1,s=0;s<e.length;s++)if(t.size>e[s].size){e.splice(s,0,t),v=!0;break}v||e.push(t)}if(!u.settings("enableEdgeHovering"))return[];var o=r.renderers.canvas&&u instanceof r.renderers.canvas;if(!o)throw new Error("The edge events feature is not compatible with the WebGL renderer");i&&(l="x"in i.data?i.data.x:l,d="y"in i.data?i.data.y:d);var a,s,c,h,f,g,m,p,y,v,x=u.settings("edgeHoverPrecision"),b={},w=[],E=l+u.width/2,A=d+u.height/2,T=u.camera.cameraPosition(l,d),_=[];if(o){var S=u.camera.quadtree.area(u.camera.getRectangle(u.width,u.height));for(h=S,a=0,c=h.length;c>a;a++)b[h[a].id]=h[a]}if(u.camera.edgequadtree!==e&&(_=u.camera.edgequadtree.point(T.x,T.y)),_.length)for(a=0,c=_.length;c>a;a++)f=_[a],m=u.graph.nodes(f.source),p=u.graph.nodes(f.target),g=f[t+"size"]||f["read_"+t+"size"],!f.hidden&&!m.hidden&&!p.hidden&&(!o||b[f.source]||b[f.target])&&r.utils.getDistance(m[t+"x"],m[t+"y"],E,A)>m[t+"size"]&&r.utils.getDistance(p[t+"x"],p[t+"y"],E,A)>p[t+"size"]&&("curve"==f.type||"curvedArrow"==f.type?m.id===p.id?(y=r.utils.getSelfLoopControlPoints(m[t+"x"],m[t+"y"],m[t+"size"]),r.utils.isPointOnBezierCurve(E,A,m[t+"x"],m[t+"y"],p[t+"x"],p[t+"y"],y.x1,y.y1,y.x2,y.y2,Math.max(g,x))&&n(w,f)):(y=r.utils.getQuadraticControlPoint(m[t+"x"],m[t+"y"],p[t+"x"],p[t+"y"]),r.utils.isPointOnQuadraticCurve(E,A,m[t+"x"],m[t+"y"],p[t+"x"],p[t+"y"],y.x,y.y,Math.max(g,x))&&n(w,f)):r.utils.isPointOnSegment(E,A,m[t+"x"],m[t+"y"],p[t+"x"],p[t+"y"],Math.max(g,x))&&n(w,f));return w}function o(e){function t(e){u.settings("eventsEnabled")&&(u.dispatchEvent("click",e.data),l=i(e),d=n(e),l.length?(u.dispatchEvent("clickNode",{node:l[0],captor:e.data}),u.dispatchEvent("clickNodes",{node:l,captor:e.data})):d.length?(u.dispatchEvent("clickEdge",{edge:d[0],captor:e.data}),u.dispatchEvent("clickEdges",{edge:d,captor:e.data})):u.dispatchEvent("clickStage",{captor:e.data}))}function r(e){u.settings("eventsEnabled")&&(u.dispatchEvent("doubleClick",e.data),l=i(e),d=n(e),l.length?(u.dispatchEvent("doubleClickNode",{node:l[0],captor:e.data}),u.dispatchEvent("doubleClickNodes",{node:l,captor:e.data})):d.length?(u.dispatchEvent("doubleClickEdge",{edge:d[0],captor:e.data}),u.dispatchEvent("doubleClickEdges",{edge:d,captor:e.data})):u.dispatchEvent("doubleClickStage",{captor:e.data}))}function o(e){u.settings("eventsEnabled")&&(u.dispatchEvent("rightClick",e.data),l=i(e),d=n(e),l.length?(u.dispatchEvent("rightClickNode",{node:l[0],captor:e.data}),u.dispatchEvent("rightClickNodes",{node:l,captor:e.data})):d.length?(u.dispatchEvent("rightClickEdge",{edge:d[0],captor:e.data}),u.dispatchEvent("rightClickEdges",{edge:d,captor:e.data})):u.dispatchEvent("rightClickStage",{captor:e.data}))}function a(e){if(u.settings("eventsEnabled")){var t,i,r,n,o=[],a=[];for(t in c)o.push(c[t]);for(c={},i=0,r=o.length;r>i;i++)u.dispatchEvent("outNode",{node:o[i],captor:e.data});for(o.length&&u.dispatchEvent("outNodes",{nodes:o,captor:e.data}),h={},i=0,n=a.length;n>i;i++)u.dispatchEvent("outEdge",{edge:a[i],captor:e.data});a.length&&u.dispatchEvent("outEdges",{edges:a,captor:e.data})}}function s(e){if(u.settings("eventsEnabled")){l=i(e),d=n(e);var t,r,o,a,s=[],f=[],g={},m=l.length,p=[],y=[],v={},x=d.length;for(t=0;m>t;t++)o=l[t],g[o.id]=o,c[o.id]||(f.push(o),c[o.id]=o);for(r in c)g[r]||(s.push(c[r]),delete c[r]);for(t=0,m=f.length;m>t;t++)u.dispatchEvent("overNode",{node:f[t],captor:e.data});for(t=0,m=s.length;m>t;t++)u.dispatchEvent("outNode",{node:s[t],captor:e.data});for(f.length&&u.dispatchEvent("overNodes",{nodes:f,captor:e.data}),s.length&&u.dispatchEvent("outNodes",{nodes:s,captor:e.data}),t=0;x>t;t++)a=d[t],v[a.id]=a,h[a.id]||(y.push(a),h[a.id]=a);for(r in h)v[r]||(p.push(h[r]),delete h[r]);for(t=0,x=y.length;x>t;t++)u.dispatchEvent("overEdge",{edge:y[t],captor:e.data});for(t=0,x=p.length;x>t;t++)u.dispatchEvent("outEdge",{edge:p[t],captor:e.data});y.length&&u.dispatchEvent("overEdges",{edges:y,captor:e.data}),p.length&&u.dispatchEvent("outEdges",{edges:p,captor:e.data})}}var l,d,c={},h={};e.bind("click",t),e.bind("mousedown",s),e.bind("mouseup",s),e.bind("mousemove",s),e.bind("mouseout",a),e.bind("doubleclick",r),e.bind("rightclick",o),u.bind("render",s)}var a,s,l,d,u=this;for(a=0,s=this.captors.length;s>a;a++)o(this.captors[a])}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.misc"),r.misc.bindDOMEvents=function(e){function t(e){this.attr=function(t){return e.getAttributeNS(null,t)},this.tag=e.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(s.settings("classPrefix")+"-hover")}}function i(e){if(s.settings("eventsEnabled")){s.dispatchEvent("click",e);var i=new t(e.target);i.isNode()?s.dispatchEvent("clickNode",{node:l.nodes(i.attr("data-node-id"))}):s.dispatchEvent("clickStage"),e.preventDefault(),e.stopPropagation()}}function n(e){if(s.settings("eventsEnabled")){s.dispatchEvent("doubleClick",e);var i=new t(e.target);i.isNode()?s.dispatchEvent("doubleClickNode",{node:l.nodes(i.attr("data-node-id"))}):s.dispatchEvent("doubleClickStage"),e.preventDefault(),e.stopPropagation()}}function o(e){var i=e.toElement||e.target;if(s.settings("eventsEnabled")&&i){var r=new t(i);if(r.isNode())s.dispatchEvent("overNode",{node:l.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var n=l.edges(r.attr("data-edge-id"));s.dispatchEvent("overEdge",{edge:n,source:l.nodes(n.source),target:l.nodes(n.target)})}}}function a(e){var i=e.fromElement||e.originalTarget;if(s.settings("eventsEnabled")){var r=new t(i);if(r.isNode())s.dispatchEvent("outNode",{node:l.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var n=l.edges(r.attr("data-edge-id"));s.dispatchEvent("outEdge",{edge:n,source:l.nodes(n.source),target:l.nodes(n.target)})}}}var s=this,l=this.graph;e.addEventListener("click",i,!1),r.utils.doubleClick(e,"click",n),e.addEventListener("touchstart",i,!1),r.utils.doubleClick(e,"touchstart",n),e.addEventListener("mouseover",o,!0),e.addEventListener("mouseout",a,!0)}}.call(this),function(){"use strict";if("undefined"==typeof r)throw"sigma is not declared";r.utils.pkg("sigma.misc"),r.misc.drawHovers=function(e){function t(){var t,a,s,l,d,u=i.contexts.hover.canvas,c=i.settings("defaultNodeType"),h=i.settings("defaultEdgeType"),f=r.canvas.hovers,g=r.canvas.edgehovers,m=r.canvas.extremities,p=i.settings.embedObjects({prefix:e});if(i.contexts.hover.clearRect(0,0,u.width,u.height),p("enableHovering")&&p("singleHover")&&Object.keys(n).length&&(l=n[Object.keys(n)[0]],(f[l.type]||f[c]||f.def)(l,i.contexts.hover,p)),p("enableHovering")&&!p("singleHover"))for(t in n)(f[n[t].type]||f[c]||f.def)(n[t],i.contexts.hover,p);if(p("enableEdgeHovering")&&p("singleHover")&&Object.keys(o).length&&(d=o[Object.keys(o)[0]],a=i.graph.nodes(d.source),s=i.graph.nodes(d.target),d.hidden||((g[d.type]||g[h]||g.def)(d,a,s,i.contexts.hover,p),p("edgeHoverExtremities")?(m[d.type]||m.def)(d,a,s,i.contexts.hover,p):((r.canvas.nodes[a.type]||r.canvas.nodes.def)(a,i.contexts.hover,p),(r.canvas.nodes[s.type]||r.canvas.nodes.def)(s,i.contexts.hover,p)))),p("enableEdgeHovering")&&!p("singleHover"))for(t in o)d=o[t],a=i.graph.nodes(d.source),s=i.graph.nodes(d.target),d.hidden||((g[d.type]||g[h]||g.def)(d,a,s,i.contexts.hover,p),p("edgeHoverExtremities")?(m[d.type]||m.def)(d,a,s,i.contexts.hover,p):((r.canvas.nodes[a.type]||r.canvas.nodes.def)(a,i.contexts.hover,p),(r.canvas.nodes[s.type]||r.canvas.nodes.def)(s,i.contexts.hover,p)))}var i=this,n={},o={};this.bind("overNode",function(e){var i=e.data.node;i.hidden||(n[i.id]=i,t())}),this.bind("outNode",function(e){delete n[e.data.node.id],t()}),this.bind("overEdge",function(e){var i=e.data.edge;i.hidden||(o[i.id]=i,t())}),this.bind("outEdge",function(e){delete o[e.data.edge.id],t()}),this.bind("render",function(){t()})}}.call(this)},{}],2:[function(e,t,i){(function(){function e(e){function t(t,i,r,n,o,a){for(;o>=0&&a>o;o+=e){var s=n?n[o]:o;r=i(r,t[s],s,t)}return r}return function(i,r,n,o){r=w(r,o,4);var a=!k(i)&&b.keys(i),s=(a||i).length,l=e>0?0:s-1;return arguments.length<3&&(n=i[a?a[l]:l],l+=e),t(i,r,n,a,l,s)}}function r(e){return function(t,i,r){i=E(i,r);for(var n=C(t),o=e>0?0:n-1;o>=0&&n>o;o+=e)if(i(t[o],o,t))return o;return-1}}function n(e,t,i){return function(r,n,o){var a=0,s=C(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return o=i(r,n),r[o]===n?o:-1;if(n!==n)return o=t(h.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===n)return o;return-1}}function o(e,t){var i=z.length,r=e.constructor,n=b.isFunction(r)&&r.prototype||d,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);i--;)o=z[i],o in e&&e[o]!==n[o]&&!b.contains(t,o)&&t.push(o)}var a=this,s=a._,l=Array.prototype,d=Object.prototype,u=Function.prototype,c=l.push,h=l.slice,f=d.toString,g=d.hasOwnProperty,m=Array.isArray,p=Object.keys,y=u.bind,v=Object.create,x=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=b),i._=b):a._=b,b.VERSION="1.8.3";var w=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)};case 4:return function(i,r,n,o){return e.call(t,i,r,n,o)}}return function(){return e.apply(t,arguments)}},E=function(e,t,i){return null==e?b.identity:b.isFunction(e)?w(e,t,i):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return E(e,t,1/0)};var A=function(e,t){return function(i){var r=arguments.length;if(2>r||null==i)return i;for(var n=1;r>n;n++)for(var o=arguments[n],a=e(o),s=a.length,l=0;s>l;l++){var d=a[l];t&&void 0!==i[d]||(i[d]=o[d])}return i}},T=function(e){if(!b.isObject(e))return{};if(v)return v(e);x.prototype=e;var t=new x;return x.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,C=_("length"),k=function(e){var t=C(e);return"number"==typeof t&&t>=0&&S>=t};b.each=b.forEach=function(e,t,i){t=w(t,i);var r,n;if(k(e))for(r=0,n=e.length;n>r;r++)t(e[r],r,e);else{var o=b.keys(e);for(r=0,n=o.length;n>r;r++)t(e[o[r]],o[r],e)}return e},b.map=b.collect=function(e,t,i){t=E(t,i);for(var r=!k(e)&&b.keys(e),n=(r||e).length,o=Array(n),a=0;n>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,i){var r;return r=k(e)?b.findIndex(e,t,i):b.findKey(e,t,i),void 0!==r&&-1!==r?e[r]:void 0},b.filter=b.select=function(e,t,i){var r=[];return t=E(t,i),b.each(e,function(e,i,n){t(e,i,n)&&r.push(e)}),r},b.reject=function(e,t,i){return b.filter(e,b.negate(E(t)),i)},b.every=b.all=function(e,t,i){t=E(t,i);for(var r=!k(e)&&b.keys(e),n=(r||e).length,o=0;n>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,i){t=E(t,i);for(var r=!k(e)&&b.keys(e),n=(r||e).length,o=0;n>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,i,r){return k(e)||(e=b.values(e)),("number"!=typeof i||r)&&(i=0),b.indexOf(e,t,i)>=0},b.invoke=function(e,t){var i=h.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var n=r?t:e[t];return null==n?n:n.apply(e,i)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,i){var r,n,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=k(e)?e:b.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=E(t,i),b.each(e,function(e,i,r){n=t(e,i,r),(n>a||n===-(1/0)&&o===-(1/0))&&(o=e,a=n)});return o},b.min=function(e,t,i){var r,n,o=1/0,a=1/0;if(null==t&&null!=e){e=k(e)?e:b.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=E(t,i),b.each(e,function(e,i,r){n=t(e,i,r),(a>n||n===1/0&&o===1/0)&&(o=e,a=n)});return o},b.shuffle=function(e){for(var t,i=k(e)?e:b.values(e),r=i.length,n=Array(r),o=0;r>o;o++)t=b.random(0,o),t!==o&&(n[o]=n[t]),n[t]=i[o];return n},b.sample=function(e,t,i){return null==t||i?(k(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,i){return t=E(t,i),b.pluck(b.map(e,function(e,i,r){return{value:e,index:i,criteria:t(e,i,r)}}).sort(function(e,t){var i=e.criteria,r=t.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(r>i||void 0===r)return-1}return e.index-t.index}),"value")};var N=function(e){return function(t,i,r){var n={};return i=E(i,r),b.each(t,function(r,o){var a=i(r,o,t);e(n,r,a)}),n}};b.groupBy=N(function(e,t,i){b.has(e,i)?e[i].push(t):e[i]=[t]}),b.indexBy=N(function(e,t,i){e[i]=t}),b.countBy=N(function(e,t,i){b.has(e,i)?e[i]++:e[i]=1}),b.toArray=function(e){return e?b.isArray(e)?h.call(e):k(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:k(e)?e.length:b.keys(e).length},b.partition=function(e,t,i){t=E(t,i);var r=[],n=[];return b.each(e,function(e,i,o){(t(e,i,o)?r:n).push(e)}),[r,n]},b.first=b.head=b.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,i){return h.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},b.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,i){return h.call(e,null==t||i?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var P=function(e,t,i,r){for(var n=[],o=0,a=r||0,s=C(e);s>a;a++){var l=e[a];if(k(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=P(l,t,i));var d=0,u=l.length;for(n.length+=u;u>d;)n[o++]=l[d++]}else i||(n[o++]=l)}return n};b.flatten=function(e,t){return P(e,t,!1)},b.without=function(e){return b.difference(e,h.call(arguments,1))},b.uniq=b.unique=function(e,t,i,r){b.isBoolean(t)||(r=i,i=t,t=!1),null!=i&&(i=E(i,r));for(var n=[],o=[],a=0,s=C(e);s>a;a++){var l=e[a],d=i?i(l,a,e):l;t?(a&&o===d||n.push(l),o=d):i?b.contains(o,d)||(o.push(d),n.push(l)):b.contains(n,l)||n.push(l)}return n},b.union=function(){return b.uniq(P(arguments,!0,!0))},b.intersection=function(e){for(var t=[],i=arguments.length,r=0,n=C(e);n>r;r++){var o=e[r];if(!b.contains(t,o)){for(var a=1;i>a&&b.contains(arguments[a],o);a++);a===i&&t.push(o)}}return t},b.difference=function(e){var t=P(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,C).length||0,i=Array(t),r=0;t>r;r++)i[r]=b.pluck(e,r);return i},b.object=function(e,t){for(var i={},r=0,n=C(e);n>r;r++)t?i[e[r]]=t[r]:i[e[r][0]]=e[r][1];return i},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,i,r){i=E(i,r,1);for(var n=i(t),o=0,a=C(e);a>o;){var s=Math.floor((o+a)/2);i(e[s])<n?o=s+1:a=s}return o},b.indexOf=n(1,b.findIndex,b.sortedIndex),b.lastIndexOf=n(-1,b.findLastIndex),b.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var r=Math.max(Math.ceil((t-e)/i),0),n=Array(r),o=0;r>o;o++,e+=i)n[o]=e;return n};var M=function(e,t,i,r,n){if(!(r instanceof t))return e.apply(i,n);var o=T(e.prototype),a=e.apply(o,n);return b.isObject(a)?a:o};b.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,h.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var i=h.call(arguments,2),r=function(){return M(e,r,t,this,i.concat(h.call(arguments)))};return r},b.partial=function(e){var t=h.call(arguments,1),i=function(){for(var r=0,n=t.length,o=Array(n),a=0;n>a;a++)o[a]=t[a]===b?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(e,i,this,this,o)};return i},b.bindAll=function(e){var t,i,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)i=arguments[t],e[i]=b.bind(e[i],e);return e},b.memoize=function(e,t){var i=function(r){var n=i.cache,o=""+(t?t.apply(this,arguments):r);return b.has(n,o)||(n[o]=e.apply(this,arguments)),n[o]};return i.cache={},i},b.delay=function(e,t){var i=h.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,i){var r,n,o,a=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:b.now(),a=null,o=e.apply(r,n),a||(r=n=null)};return function(){var d=b.now();s||i.leading!==!1||(s=d);var u=t-(d-s);return r=this,n=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=d,o=e.apply(r,n),a||(r=n=null)):a||i.trailing===!1||(a=setTimeout(l,u)),o}},b.debounce=function(e,t,i){var r,n,o,a,s,l=function(){var d=b.now()-a;t>d&&d>=0?r=setTimeout(l,t-d):(r=null,i||(s=e.apply(o,n),r||(o=n=null)))};return function(){o=this,n=arguments,a=b.now();var d=i&&!r;return r||(r=setTimeout(l,t)),d&&(s=e.apply(o,n),o=n=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,r=e[t].apply(this,arguments);i--;)r=e[i].call(this,r);return r}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(p)return p(e);var t=[];for(var i in e)b.has(e,i)&&t.push(i);return O&&o(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var i in e)t.push(i);return O&&o(e,t),t},b.values=function(e){for(var t=b.keys(e),i=t.length,r=Array(i),n=0;i>n;n++)r[n]=e[t[n]];return r},b.mapObject=function(e,t,i){t=E(t,i);for(var r,n=b.keys(e),o=n.length,a={},s=0;o>s;s++)r=n[s],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),i=t.length,r=Array(i),n=0;i>n;n++)r[n]=[t[n],e[t[n]]];return r},b.invert=function(e){for(var t={},i=b.keys(e),r=0,n=i.length;n>r;r++)t[e[i[r]]]=i[r];return t},b.functions=b.methods=function(e){var t=[];for(var i in e)b.isFunction(e[i])&&t.push(i);return t.sort()},b.extend=A(b.allKeys),b.extendOwn=b.assign=A(b.keys),b.findKey=function(e,t,i){t=E(t,i);for(var r,n=b.keys(e),o=0,a=n.length;a>o;o++)if(r=n[o],t(e[r],r,e))return r},b.pick=function(e,t,i){var r,n,o={},a=e;if(null==a)return o;b.isFunction(t)?(n=b.allKeys(a),r=w(t,i)):(n=P(arguments,!1,!1,1),r=function(e,t,i){return t in i},a=Object(a));for(var s=0,l=n.length;l>s;s++){var d=n[s],u=a[d];r(u,d,a)&&(o[d]=u)}return o},b.omit=function(e,t,i){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(P(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,i)},b.defaults=A(b.allKeys,!0),b.create=function(e,t){var i=T(e);return t&&b.extendOwn(i,t),i},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var i=b.keys(t),r=i.length;if(null==e)return!r;for(var n=Object(e),o=0;r>o;o++){var a=i[o];if(t[a]!==n[a]||!(a in n))return!1}return!0};var R=function(e,t,i,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var n=f.call(e);if(n!==f.call(t))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===n;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;

}i=i||[],r=r||[];for(var l=i.length;l--;)if(i[l]===e)return r[l]===t;if(i.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!R(e[l],t[l],i,r))return!1}else{var d,u=b.keys(e);if(l=u.length,b.keys(t).length!==l)return!1;for(;l--;)if(d=u[l],!b.has(t,d)||!R(e[d],t[d],i,r))return!1}return i.pop(),r.pop(),!0};b.isEqual=function(e,t){return R(e,t)},b.isEmpty=function(e){return null==e?!0:k(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=m||function(e){return"[object Array]"===f.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&g.call(e,t)},b.noConflict=function(){return a._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=_,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,i){var r=Array(Math.max(0,e));t=w(t,i,1);for(var n=0;e>n;n++)r[n]=t(n);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=b.invert(I),j=function(e){var t=function(t){return e[t]},i="(?:"+b.keys(e).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(n,t):e}};b.escape=j(I),b.unescape=j(L),b.result=function(e,t,i){var r=null==e?void 0:e[t];return void 0===r&&(r=i),b.isFunction(r)?r.call(e):r};var F=0;b.uniqueId=function(e){var t=++F+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+D[e]};b.template=function(e,t,i){!t&&i&&(t=i),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),n=0,o="__p+='";e.replace(r,function(t,i,r,a,s){return o+=e.slice(n,s).replace(H,q),n=s+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,b)},l=t.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},b.chain=function(e){var t=b(e);return t._chain=!0,t};var U=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var i=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),U(this,i.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];b.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],U(this,i)}}),b.each(["concat","join","slice"],function(e){var t=l[e];b.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],3:[function(e){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){z={calculating:!1,info:k.default("#attributepane"),legend_box:k.default(".box"),main_panel:k.default("#mainpanel"),menu:k.default("#menu"),modal:k.default("#moreInformationModal"),zoom:k.default("#zoom")},z.form=z.main_panel.find("form"),z.info_donnees=z.info.find(".nodeattributes"),z.info_name=z.info.find(".name"),z.info_link=z.info.find(".link"),z.info_data=z.info.find(".data"),z.info_share_data=z.info.find(".share_data"),z.info_p=z.info.find(".p"),z.info_link_ul=z.info_link.find("ul"),z.info_close=z.info.find(".left-close").click(b),z.search=new v(z.form.find("#search")),z.class=new x(z.form.find("#attributeselect")),k.default(document).keydown(function(e){27==e.keyCode&&R.active&&b()})}function n(e){var t=!0,i=!1,r=void 0;try{for(var n,a=e.nodes[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var l=n.value,d=I[l.class];l.color=d.color,l.labelColor=Y}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}o(e);var c=0,h=!0,g=!1,m=void 0;try{for(var p,y=e.edges[Symbol.iterator]();!(h=(p=y.next()).done);h=!0){var v=p.value;v.id=c,c++}}catch(e){g=!0,m=e}finally{try{!h&&y.return&&y.return()}finally{if(g)throw m}}R=new P.default({graph:e,renderers:[{container:"sigma-canvas",type:"canvas"}],settings:{defaultEdgeColor:q,defaultEdgeHoverColor:"#212121",defaultHoverLabelBGColor:"#607D8B",doubleClickZoomDuration:300,edgeColor:"default",edgeHoverColor:"default",edgeHoverExtremities:!0,enableEdgeHovering:!0,fontStyle:"bold",hoverFontStyle:"bold",labelColor:"node",labelThreshold:7,maxEdgeSize:B,minEdgeSize:.5}}),R.active=!1,R.detail=!1,R.nodesById=O.default.chain(R.graph.nodes()).groupBy(function(e){return e.id}).mapObject(function(e){return e[0]}).value(),s(),u(),f(),R.bind("clickNode",function(e){return w(e.data.node)}),R.bind("clickStage",function(e){e.data.captor.isDragging||b()})}function o(e){var t=a(e),i=O.default.min(t,function(e){return e}),r=O.default.max(t,function(e){return e}),n=!0,o=!1,s=void 0;try{for(var l,d=e.nodes[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){var u=l.value;u.size=((D-B)*t[u.id]+(B*r-D*i))/(r-i)}}catch(e){o=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw s}}}function a(e){var t=O.default.chain(e.edges).groupBy(function(e){return e.source}).mapObject(function(e){return O.default.reduce(e,function(e,t){return e+t.size},0)}).value();O.default.chain(e.nodes).map(function(e){return e.id}).reject(function(e){return e in t}).each(function(e){return t[e]=0});var i=O.default.chain(e.edges).groupBy(function(e){return e.target}).mapObject(function(e){return O.default.reduce(e,function(e,t){return e+t.size},0)}).value();return O.default.chain(e.nodes).map(function(e){return e.id}).reject(function(e){return e in i}).each(function(e){return i[e]=0}),O.default.mapObject(t,function(e,t){return e+i[t]})}function s(){var e=l(),t=d();R.neighbors=O.default.mapObject(e,function(e,i){return e.concat(t[i])})}function l(){var e=O.default.chain(R.graph.edges()).groupBy(function(e){return e.source}).mapObject(function(e){return O.default.map(e,function(e){return R.nodesById[e.target]})}).value();return O.default.chain(R.graph.nodes()).map(function(e){return e.id}).reject(function(t){return t in e}).each(function(t){return e[t]=[]}),e}function d(){var e=O.default.chain(R.graph.edges()).groupBy(function(e){return e.target}).mapObject(function(e){return O.default.map(e,function(e){return R.nodesById[e.source]})}).value();return O.default.chain(R.graph.nodes()).map(function(e){return e.id}).reject(function(t){return t in e}).each(function(t){return e[t]=[]}),e}function u(){var e=c(),t=h();R.edgesByNodeId=O.default.chain(e).mapObject(function(e,i){return e.concat(t[i])}).mapObject(function(e){return O.default.sortBy(e,"size").reverse()}).value()}function c(){var e=O.default.chain(R.graph.edges()).groupBy(function(e){return e.source}).value();return O.default.chain(R.graph.nodes()).map(function(e){return e.id}).reject(function(t){return t in e}).each(function(t){return e[t]=[]}),e}function h(){var e=O.default.chain(R.graph.edges()).groupBy(function(e){return e.target}).value();return O.default.chain(R.graph.nodes()).map(function(e){return e.id}).reject(function(t){return t in e}).each(function(t){return e[t]=[]}),e}function f(){var e=O.default.chain(R.graph.nodes()).groupBy(function(e){return e.class}).mapObject(function(e){return O.default.map(e,function(e){return e.id})}).value(),t=!0,i=!1,r=void 0;try{for(var n,o=O.default.keys(I)[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value,s=I[a];s.nodes=e[a]}}catch(e){i=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw r}}}function g(){O.default.chain(O.default.values(I)).forEach(function(e){k.default('<div class="item-group">\n          <div class="item-group-color legend-item" style="background: '+e.color+'">\n          </div>\n          '+e.name+" ("+e.nodes.length+")\n        </div>").appendTo(z.legend_box)})}function m(){z.class.content(O.default.chain(O.default.keys(I)).map(function(e){var t=I[e];return'<div class="item-group">\n                  <a href="#'+e+'">\n                    <div class="item-group-color" style="background: '+t.color+'">\n                    </div>\n                    '+t.name+" ("+t.nodes.length+")\n                  </a>\n                </div>"}).reduce(function(e,t){return""+e+t}).value())}function p(){window.mobilecheck()&&(z.main_panel.hide(0),z.menu.show(0),z.zoom.css("left","20%"),z.menu.click(function(){return z.main_panel.fadeToggle()})),z.zoom.find("div.z").each(function(e,t){var i=k.default(t),r=i.attr("rel");null!=r&&i.click(function(){"center"==r?R.cameras[0].goTo({ratio:1,x:0,y:0}):P.default.utils.zoomTo(R.cameras[0],0,0,"in"==r?.5:1.5,{duration:R.settings("doubleClickZoomDuration")})})})}function y(){var e=decodeURIComponent(window.location.hash.substr(1));e.length>0&&(z.search.search(e,!0),z.search.clean())}function v(e){var t=this;this.input=e.find("input[name=search]"),this.state=e.find(".state"),this.results=e.find(".results"),this.lastSearch="",this.searching=!1,this.input.keydown(function(e){return 13==e.which?(t.state.addClass("searching"),t.search(t.input.val(),!1),!1):void 0}),this.state.click(function(){var e=t.input.val();t.searching&&e==t.lastSearch?t.close():(t.state.addClass("searching"),t.search(e,!1))}),this.close=function(){t.state.removeClass("searching"),t.results.hide(),t.searching=!1,t.input.val(""),b()},this.clean=function(){t.results.empty().hide(),t.state.removeClass("searching"),t.input.val("")},this.search=function(e,i){if(e=e.toLowerCase(),t.searching=!0,t.lastSearch=e,t.results.empty(),e.length<=2)t.results.html("<i>El texto a buscar debe contener al menos 3 letras.</i>");else{var r=O.default.chain(R.graph.nodes()).filter(function(t){return i?t.label.toLowerCase()===e:-1!==t.label.toLowerCase().indexOf(e)}).value();if(0==r.length)E(e)||t.results.html("<i>No se encontró ningún resultado.</i>");else{1==r.length&&w(r[0]),t.results.html("<b>Resultados encontrados: </b>");var n=!0,o=!1,a=void 0;try{for(var s,l=function(){var e=s.value;k.default('<a href="#'+e.label+'">'+e.label+"</a>").click(function(){return w(e)}).appendTo(t.results)},d=r[Symbol.iterator]();!(n=(s=d.next()).done);n=!0)l()}catch(e){o=!0,a=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw a}}}}t.results.show()}}function x(e){var t=this;this.class=e,this.display=!1,this.list=this.class.find(".list"),this.list.empty(),this.select=this.class.find(".select"),this.select.click(function(){return z.class.toggle()}),this.toggle=function(){return t.display?t.hide():t.show()},this.content=function(e){t.list.html(e),t.list.find("a").click(function(){return E(k.default(event.currentTarget).attr("href").substr(1))})},this.hide=function(){t.display=!1,t.list.hide(),t.select.removeClass("close")},this.show=function(){t.display=!0,t.list.show(),t.select.addClass("close")}}function b(){if(!z.calculating&&R.detail){z.calculating=!0,R.detail=!0,z.info.delay(200).animate({width:"hide"},350),window.mobilecheck()&&z.zoom.show(),z.class.hide();var e=!0,t=!1,i=void 0;try{for(var r,n=R.graph.edges()[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;o.color=q}}catch(e){t=!0,i=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw i}}var a=!0,s=!1,l=void 0;try{for(var d,u=R.graph.nodes()[Symbol.iterator]();!(a=(d=u.next()).done);a=!0){var c=d.value;c.opacity=1,c.labelColor=Y}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}R.refresh(),R.active=!1,z.calculating=!1,window.location.hash=""}}function w(e){R.detail=!0;var t=!0,i=!1,r=void 0;try{for(var n,o=R.graph.nodes()[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var a=n.value;a.opacity=H,a.labelColor=W}}catch(e){i=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw r}}var s=!0,l=!1,d=void 0;try{for(var u,c=R.graph.edges()[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var h=u.value;h.color=U}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}e.opacity=1,e.labelColor=Y;var f=!0,g=!1,m=void 0;try{for(var p,y=R.neighbors[e.id][Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var v=p.value;v.opacity=1,v.labelColor=Y}}catch(e){g=!0,m=e}finally{try{!f&&y.return&&y.return()}finally{if(g)throw m}}var x=!0,b=!1,E=void 0;try{for(var T,S=R.edgesByNodeId[e.id][Symbol.iterator]();!(x=(T=S.next()).done);x=!0){var C=T.value;C.color=q}}catch(e){b=!0,E=e}finally{try{!x&&S.return&&S.return()}finally{if(b)throw E}}R.refresh(),z.info_link_ul.empty();var N=0,P=0==e.class?"de":"a";O.default.chain(R.edgesByNodeId[e.id]).each(function(t){N+=t.size;var i=e.id==t.source?t.target:t.source,r=R.nodesById[i];k.default('<li class="membership">\n          '+_(t.size)+" "+P+' <a href="#'+r.label+'">'+r.label+"</a>\n        </li>").click(function(){return w(r)}).appendTo(z.info_link_ul)}),z.info_name.html("<h3>"+e.label+"</h3>"),z.info_data.html(A(e)),window.location.hash=encodeURIComponent(e.label);var M=e.label+" | ¿De dónde sale el dinero de las campañas políticas?",I=window.location,L=encodeURIComponent(I);z.info_share_data.html('<div class="fb-share-button" data-href="'+I+'" data-layout="button_count" data-size="small" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u='+L+'&amp;src=sdkpreparse">Compartir</a></div>\n     <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text='+encodeURIComponent(M)+"&via=ucudal&url="+L+'" data-size="small">Twittear</a>\n     <a href="whatsapp://send" data-text="'+M+'" data-href="" class="wa_btn wa_btn_s" style="display:none">Compartir</a>');var j=0==e.class?"recibidas":"emitidas";z.info_p.html(_(N)+" en donaciones "+j),z.info.animate({width:"show"},{duration:350,complete:function(){FB.XFBML.parse(),twttr.widgets.load(),window.mobilecheck()&&WASHAREBTN.crBtn()}}),R.active=e.id,window.mobilecheck()&&(z.zoom.hide(),z.main_panel.hide())}function E(e){var t=I[e];if("undefined"!=typeof t&&t.nodes.length>0){R.detail=!0;var i=!0,r=!1,n=void 0;try{for(var o,a=R.graph.edges()[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;s.hidden=!1,s.attributes.lineWidth=!1}}catch(e){r=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw n}}var l=!0,d=!1,u=void 0;try{for(var c,h=R.graph.nodes()[Symbol.iterator]();!(l=(c=h.next()).done);l=!0){var f=c.value;f.hidden=!0}}catch(e){d=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(d)throw u}}z.info_link_ul.empty();var g=[],m=!0,p=!1,y=void 0;try{for(var v,x=function(){var e=v.value,t=R.nodesById[e];t.hidden&&(g.push(e),t.hidden=!1,t.attributes.lineWidth=!1,t.attributes.color=t.color,k.default('<li class="membership"><!--suppress JSUnresolvedFunction -->\n            <a href="#'+t.label+'">'+t.label+"</a>\n          </li>").click(function(){return w(t)}).appendTo(z.info_link_ul))},b=t.nodes[Symbol.iterator]();!(m=(v=b.next()).done);m=!0)x()}catch(e){p=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(p)throw y}}return I[e].nodes=g,R.refresh(),z.info_name.html("<b>"+e+"</b>"),z.info_p.html("Miembros del grupo:"),z.info.animate({width:"show"},350),z.search.clean(),z.class.hide(),!0}return!1}function A(e){switch(e.class){case 0:var t=e.attributes;return"<strong>"+F[t.party]+"</strong>\n              <br />\n              <strong>"+j[t.level]+"</strong>\n              "+(19==t.department?"":"<br /><strong>"+L[t.department]+"</strong>")+"\n              "+(2==t.level?"<br /><strong>Primer titular</strong>: "+t.first_holder:"")+"\n              <br />\n              "+S(t.votes)+" votos\n              <br />\n              "+("undefined"!=typeof t.seats?t.seats+" "+T(t.seats):"")+"\n      ";case 1:return"Candidato";case 2:return"Empresa";case 3:return"Individuo";case 4:return"Donación anónima";default:return""}}function T(e){return 1==e?"banca":"bancas"}function _(e){return"$ "+S(e)}function S(e){e+="";for(var t=e.split(","),i=t[0],r=t.length>1?","+t[1]:"",n=/(\d+)(\d{3})/;n.test(i);)i=i.replace(n,"$1.$2");return i+r}var C="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,k=i(C),N=e("sigma-webpack"),P=i(N),M=e("underscore"),O=i(M),z=void 0,R=void 0,I={0:{color:"#f44336",name:"Listas y candidatos a presidente"},1:{color:"#4caf50",name:"Candidatos donantes"},2:{color:"#3f51b5",name:"Empresas donantes"},3:{color:"#03a9f4",name:"Individuos donantes"},4:{color:"#ffc107",name:"Donaciones anónimas"},5:{color:"#9c27b0",name:'Donaciones "varias"'}},L={0:"Artigas",1:"Canelones",2:"Cerro Largo",3:"Colonia",4:"Durazno",5:"Flores",6:"Florida",7:"Lavalleja",8:"Maldonado",9:"Montevideo",10:"Paysandú",11:"Río Negro",12:"Rivera",13:"Rocha",14:"Salto",15:"San José",16:"Soriano",17:"Tacuarembó",18:"Treinta y Tres",19:"Todo el país"},j={0:"Fórmula presidencial",1:"Candidato al senado",2:"Candidatos a diputados"},F={0:"Frente Amplio",1:"Partido Nacional",2:"Partido Colorado",3:"Partido Independiente",4:"Unidad Popular",5:"Partido de los Trabajadores",6:"Partido Ecologista Radical Intransigente"},B=8,D=75,H=.2,q="#ccc",U="rgba(204, 204, 204, "+H+")",Y="#424242",W="rgba(67, 67, 67, "+H+")";k.default(document).ready(function(){r(),p(),k.default.getJSON("data.json",function(e){n(e),g(),m(),y()})}),window.mobilecheck=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"sigma-webpack":1,underscore:2}]},{},[3]);